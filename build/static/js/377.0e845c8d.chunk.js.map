{"version":3,"file":"static/js/377.0e845c8d.chunk.js","mappings":"iPAMA,MAgCA,EAhCuBA,KACrB,MAAMC,GAA2BC,EAAAA,EAAAA,GAC/B,oCAOIC,EAAmB,CACvBC,YALiBC,EAAAA,EAAAA,GAAY,cAM7BC,WALgBD,EAAAA,EAAAA,GAAY,aAM5BE,QALaF,EAAAA,EAAAA,GAAY,WAiB3B,OATAG,EAAAA,EAAAA,YAAU,KAELC,OAAOC,OAAOP,GAAkBQ,SAAS,KACzCF,OAAOC,OAAOP,GAAkBQ,cAASC,ICnBfC,WAC/B,MAAMC,EACJC,aAAaC,QAAQ,iBACrBC,KAAKC,MAAMH,aAAaC,QAAQ,iBAE5BG,EACJJ,aAAaC,QAAQ,oBACrBC,KAAKC,MAAMH,aAAaC,QAAQ,qBAElCI,EAAAA,EAAAA,MACE,OAAO,GAADC,OACHC,wBACH,EACA,IACKC,IAELC,MAAMC,IACwB,IAA1BA,EAASF,KAAKG,QACXP,GAMHQ,EAAAA,EAAAA,GACE,UACAF,EAASF,KAAKK,YACd,GACAJ,MAAK,KACLK,SAASC,KAAO,OAAO,KAVzBC,EAAAA,EAAAA,GAAgB,CACdC,UAA2B,OAAhBlB,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBkB,UAC7BC,QAAyB,OAAhBnB,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBmB,WAY/BN,EAAAA,EAAAA,GACE,QACAF,EAASF,KAAKK,YACd,GACA,KACEC,SAASC,KAAO,OAAO,IAItBL,IACP,EDtBES,CAAkB/B,EACpB,GACC,CAACc,KAAKkB,UAAUhC,MAGjBiC,EAAAA,EAAAA,MAACC,EAAAA,EAAK,CAACC,WAAY,SAAUC,IAAI,MAAKC,SAAA,EACpCC,EAAAA,EAAAA,KAAA,MAAAD,SAAKvC,KACLwC,EAAAA,EAAAA,KAACC,EAAAA,EAAgB,CAACC,MAAM,cAAcC,KAAK,UACrC,C","sources":["Routes/Public/VerifyZarinPal/VerifyZarinPal.js","Routes/Public/VerifyZarinPal/adapters/VerifyZarinPalApi.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { GetURLQuery } from 'utils/GetURLQuery';\r\nimport { VerifyZarinPalApi } from './adapters/VerifyZarinPalApi';\r\nimport { CircularProgress, Stack } from '@mui/material';\r\nimport FindLangKey from 'Global/Functions/FindLangKey/FindLangKey';\r\n\r\nconst VerifyZarinPal = () => {\r\n  const label_verfiy_transaction = FindLangKey(\r\n    'genral-public-verify-transaction'\r\n  );\r\n\r\n  const facktorUID = GetURLQuery('facktorUID');\r\n  const Authority = GetURLQuery('Authority');\r\n  const Status = GetURLQuery('Status');\r\n\r\n  const verificationData = {\r\n    facktorUID,\r\n    Authority,\r\n    Status,\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (\r\n      !Object.values(verificationData).includes('') &&\r\n      !Object.values(verificationData).includes(undefined)\r\n    ) {\r\n      VerifyZarinPalApi(verificationData);\r\n    }\r\n  }, [JSON.stringify(verificationData)]);\r\n\r\n  return (\r\n    <Stack alignItems={'center'} gap=\"3em\">\r\n      <h3>{label_verfiy_transaction}</h3>\r\n      <CircularProgress color=\"colorPrimer\" size=\"3em\" />\r\n    </Stack>\r\n  );\r\n};\r\n\r\nexport default VerifyZarinPal;\r\n","import SwalAlert from 'Global/Components/CommonComponents/SwalAlert/SwalAlert';\r\nimport { SaveAppointment } from 'Routes/Public/GetNewTurn/adapaters/SaveAppointment';\r\nimport { Post } from 'Xhr/Xhr';\r\nimport { env } from 'env';\r\n\r\nexport const VerifyZarinPalApi = async (data) => {\r\n  const payredirect_info =\r\n    localStorage.getItem('pay_redirect') &&\r\n    JSON.parse(localStorage.getItem('pay_redirect'));\r\n\r\n  const generalPayment =\r\n    localStorage.getItem('general_payment') &&\r\n    JSON.parse(localStorage.getItem('general_payment'));\r\n\r\n  Post(\r\n    'POST',\r\n    `${process.env.REACT_APP_API_URL_API_VERIFY_ZRARIN_PAL}`,\r\n    true,\r\n    {\r\n      ...data,\r\n    }\r\n  ).then((response) => {\r\n    if (response.data.resCode === 1) {\r\n      if (!generalPayment) {\r\n        SaveAppointment({\r\n          idPatient: payredirect_info?.idPatient,\r\n          idNobat: payredirect_info?.idNobat,\r\n        });\r\n      } else {\r\n        SwalAlert(\r\n          'success',\r\n          response.data.resMessage,\r\n          false\r\n        ).then(() => {\r\n          location.href = '/main';\r\n        });\r\n      }\r\n    } else {\r\n      SwalAlert(\r\n        'error',\r\n        response.data.resMessage,\r\n        false,\r\n        () => {\r\n          location.href = '/main';\r\n        }\r\n      );\r\n    }\r\n    return response;\r\n  });\r\n};\r\n"],"names":["VerifyZarinPal","label_verfiy_transaction","FindLangKey","verificationData","facktorUID","GetURLQuery","Authority","Status","useEffect","Object","values","includes","undefined","async","payredirect_info","localStorage","getItem","JSON","parse","generalPayment","Post","concat","process","data","then","response","resCode","SwalAlert","resMessage","location","href","SaveAppointment","idPatient","idNobat","VerifyZarinPalApi","stringify","_jsxs","Stack","alignItems","gap","children","_jsx","CircularProgress","color","size"],"sourceRoot":""}