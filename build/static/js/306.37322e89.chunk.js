"use strict";(self.webpackChunknew_ui=self.webpackChunknew_ui||[]).push([[306],{43306:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F});var i=a(20803),n=a(94162),l=a(8771),d=a(91888),o=a(72791),r=a(91397);const s={frameGradient:"card_frame_frameGradient__yfIvu",Card:"card_frame_Card__-Syx8"};var c=a(48928),v=a(17205),u=a(73736);const h=e=>{const[t,a,i]=[(0,r.Z)("lab-test-title-date-time"),(0,r.Z)("lab-test-title-referral-location"),(0,r.Z)("lab-test-title-title")];return[{title:t,value:"".concat(null===e||void 0===e?void 0:e.Date," - ").concat(null===e||void 0===e?void 0:e.Time)},{title:a,value:(0,u.J)(null===e||void 0===e?void 0:e.MahaleMorajee)},{title:i,value:(0,u.J)(null===e||void 0===e?void 0:e.NameNoeMorajee)}]};var m=a(79917),p=a(86775),g=a(21830),x=a.n(g),Z=a(49540),j=a(54261);a(36009);const b=(e,t,a,i)=>{(async(e,t,a)=>{t(!0),(0,p.Post)("POST","".concat("/api/Patient/GetReport"),!0,{noeIdShakhesDev:e.dev,itemId:e.id}).then((e=>{var i;1===e.data.resCode?((0,Z.R)(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.Data,"".concat((0,j.Z)())),a((e=>!e)),x().close()):(0,m.Z)("error",e.data.resMessage,!1),t(!1)}))})({dev:e,id:t},a,i)};var f=a(30433),P=a(16623);const k=(e,t,a,i,n)=>{n(!0),(async(e,t,a,i)=>{console.log("---\x3e",{noeIdShakhesDev:e.dev,itemId:e.id}),i(!0),(0,p.Post)("POST","".concat("/api/Patient/GetReport"),!0,{noeIdShakhesDev:e.dev,itemId:e.id}).then((e=>{console.log("the response is +=>",e),1===e.data.resCode?(0,P.s)(e.data.Data):(0,m.Z)("error",e.data.resMessage,!1),i(!1)}))})({dev:e,id:t},0,0,n)};var C=a(40918),I=a(80184);const S=e=>{let{test:t,setForceRender:a,Bedehkar:i}=e;(0,C.Z)();const[l,u]=(0,o.useState)(),[m,p]=(0,o.useState)(),g=h(t),x=(0,r.Z)("general-public-btn-download"),Z=((0,r.Z)("general-public-alert-downloading"),(0,r.Z)("general-public-preview")),j=(0,r.Z)("lab-test-red-label-unable-to-get-result-because-bedehkari");return(0,I.jsx)(o.Fragment,{children:(0,I.jsx)(c.Z,{sx:{mt:"1em",p:".3em"},className:null===s||void 0===s?void 0:s.Card,children:(0,I.jsxs)(n.Z,{gap:"1em",bgcolor:"white",padding:".5em",borderRadius:"20px",children:[null===g||void 0===g?void 0:g.map(((e,t)=>(0,I.jsxs)(n.Z,{direction:"row-reverse",justifyContent:"space-between",children:[(0,I.jsx)("p",{children:null===e||void 0===e?void 0:e.title}),(0,I.jsx)("p",{children:null===e||void 0===e?void 0:e.value})]},t))),i?(0,I.jsx)("p",{style:{textAlign:"center",marginBlock:".5em",color:"red"},children:j}):(0,I.jsx)(I.Fragment,{}),(0,I.jsxs)(n.Z,{gap:".5em",direction:"row-reverse",alignItems:"center",justifyContent:"space-between",children:[(0,I.jsx)(v.Z,{variant:"contained",fullWidth:!0,sx:{color:"".concat(f.l.ColorPrimary," !important"),maxHeight:"40px !important"},onClick:()=>b(null===t||void 0===t?void 0:t.NoeIdShakhesDev,null===t||void 0===t?void 0:t.ID,p,a),disabled:i,children:x}),(0,I.jsx)(v.Z,{fullWidth:!0,variant:"contained",sx:{color:"".concat(f.l.ColorPrimary," !important"),maxHeight:"40px !important"},onClick:()=>{l?u(void 0):k(null===t||void 0===t?void 0:t.NoeIdShakhesDev,null===t||void 0===t?void 0:t.ID,0,0,p)},disabled:i,children:Z})]}),(0,I.jsx)(I.Fragment,{children:m?(0,I.jsx)(d.Z,{}):(0,I.jsx)(I.Fragment,{})})]})})})};var w=a(72279),D=a(30178),y=a(88329);const _=()=>{const[e,t]=(0,o.useState)(),a=JSON.parse(y.Z.get("user"));return(0,o.useEffect)((()=>{t("loading"),(0,p.Post)("Post","".concat("/api/Patient/FindTurn"),!0,{idPatient:null===a||void 0===a?void 0:a.IdPatient}).then((e=>{1===e.data.resCode?t(e.data.Data):((0,m.Z)("error",e.data.Data,!1),t([]))}))}),[null===a||void 0===a?void 0:a.IdPatient]),e},F=()=>{var e;const t=(0,C.Z)(),a=_(),[s,c]=(0,o.useState)(!1),v=(0,w.Z)(null===a||void 0===a?void 0:a.PatientTurnList),u=(0,r.Z)("general-public-flat-alert-no-data");return console.log("testResults--\x3e",a),(0,I.jsxs)(o.Fragment,{children:[(0,I.jsx)(I.Fragment,{}),(0,I.jsx)(i.Z,{children:(0,I.jsx)(n.Z,{display:v?"grid":"",sx:{gridTemplateColumns:v?"repeat(2, 1fr) !important":"",direction:"rtl",gap:".5em","& > *":t>1024?{height:"fit-content",alignSelf:"start"}:{}},children:0===(null===a||void 0===a?void 0:a.length)?(0,I.jsx)(l.Z,{dir:"en"===D.ZP.language?"ltr":"rtl",severity:"info",sx:{mt:"1em",width:"100%"},children:u}):"loading"===a?(0,I.jsx)(d.Z,{}):null===a||void 0===a||null===(e=a.PatientTurnList)||void 0===e?void 0:e.map((e=>(0,I.jsx)(S,{test:e,setForceRender:c,Bedehkar:null===e||void 0===e?void 0:e.Bedehkar},null===e||void 0===e?void 0:e.ID)))})})]})}}}]);
//# sourceMappingURL=306.37322e89.chunk.js.map