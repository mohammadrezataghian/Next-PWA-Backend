"use strict";(self.webpackChunknew_ui=self.webpackChunknew_ui||[]).push([[34],{12034:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var r=a(72791),n=a(20803),l=a(94162),o=a(17205),s=a(91888),i=a(9181),d=a(61134),m=a(94225),c=a(70654),u=a(91397),h=a(80184);const v=e=>{var t,a;const r=(0,u.Z)("invoice-receipt-label-select-year"),n=(0,u.Z)("invoice-receipt-label-select-months");return[{element:(0,h.jsx)(c.Z,{openTo:"year",Placeholder:r,isSmall:!0}),name:"Year",required:!0},{element:e&&"loading"!==e?(0,h.jsx)(m.Z,{initialData:[{ItemContent:null===e||void 0===e||null===(t=e.months)||void 0===t?void 0:t.filter((t=>{var a;return t.ItemValue===(null===e||void 0===e||null===(a=e.params)||void 0===a?void 0:a.FromMonth)}))[0].ItemContent,ItemValue:null===e||void 0===e||null===(a=e.months)||void 0===a?void 0:a.filter((t=>{var a;return t.ItemValue===(null===e||void 0===e||null===(a=e.params)||void 0===a?void 0:a.FromMonth)}))[0].ItemContent}],SelectableDataArray:null===e||void 0===e?void 0:e.months,label:n,isSingle:!0,enableInitialOnchange:!0}):(0,h.jsx)(h.Fragment,{}),name:"FromMonth",required:!0}]};var p=a(86775),x=a(73736),Z=(a(36009),a(79917));const g=()=>{const[e,t]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(async(e,t)=>{e("loading"),(0,p.Get)("".concat("/api/Emp/GetEnterExitParam"),!0,{}).then((a=>{1===a.data.resCode?e((()=>({params:a.data.Data,[t]:a.data.Data.MonthList.map((e=>({ItemValue:e.Id,ItemContent:(0,x.J)(e.Name)})))}))):((0,Z.Z)("error",a.data.resMessage,!1),e(null))}))})(t,"months")}),[]),e};var j=a(72456),I=a(3710),f=a(88329),b=a(9396),S=a(49540);var C=a(40918),E=a(30433),P=a(16623);const y=()=>{var e;const t=g(),a=v(t),m=((0,C.Z)(),f.Z.get("user")&&(null===(e=JSON.parse(f.Z.get("user")))||void 0===e?void 0:e.IdPerson)),{control:c,formState:x,handleSubmit:y,getValues:M}=(0,d.cI)({defaultValues:{Year:"",FromMonth:"",idPerson:m}}),D=(0,u.Z)("general-public-route-title-get-report-sms"),F=(0,u.Z)("general-public-preview"),[w,V]=(0,r.useState)(!1);return(0,h.jsx)(r.Fragment,{children:"loading"!==t?(0,h.jsx)(n.Z,{sx:{mt:"1em"},children:(0,h.jsx)("form",{onSubmit:y((e=>{(async(e,t)=>{t(!0),(0,p.Post)("POST","".concat("/api/Emp/GetEnterExit"),!0,{...e,Year:e.Year.split("/")[0]}).then((e=>{1===e.data.resCode?(0,S.R)(e.data.Data):(0,Z.Z)("error",e.data.resMessage,!1)})).then((()=>{t(!1)}))})(e,V)})),children:(0,h.jsxs)(l.Z,{gap:".5em",children:[(0,h.jsx)(i.Z,{DataArray:a,control:c,formState:x}),(0,h.jsxs)(l.Z,{direction:"row-reverse",gap:".5em",children:[(0,h.jsx)(b.Z,{label:D,startIcon:(0,h.jsx)(j.Z,{})}),(0,h.jsx)(o.Z,{variant:"contained",sx:{color:"".concat(E.l.ColorPrimary," !important"),maxHeight:"40px !important"},fullWidth:!0,startIcon:(0,h.jsx)(I.Z,{}),onClick:()=>{if(w)V(!1);else{(async(e,t)=>{t(!0),(0,p.Post)("POST","".concat("/api/Emp/GetEnterExit"),!0,{...e,Year:e.Year.split("/")[0]}).then((e=>{1===e.data.resCode?(0,P.s)(e.data.Data):(0,Z.Z)("error",e.data.resMessage,!1)})).then((()=>{t(!1)}))})(M(),V)}},children:F})]}),w?(0,h.jsx)(s.Z,{}):(0,h.jsx)(h.Fragment,{})]})})}):(0,h.jsx)(s.Z,{})})}}}]);
//# sourceMappingURL=34.9990e39d.chunk.js.map