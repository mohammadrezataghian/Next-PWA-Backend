"use strict";(self.webpackChunknew_ui=self.webpackChunknew_ui||[]).push([[105],{27899:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(72791);const i=e=>{const[n,t]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const n=new IntersectionObserver((e=>{let[n]=e;return t(n.isIntersecting)}));return n.observe(e.current),()=>{n.disconnect()}}),[]),n}},44990:(e,n,t)=>{t.d(n,{Z:()=>d});var o=t(89841),i=t(13811),s=t(40918),l=t(30433),r=t(72791),a=t(80184);const d=e=>{let{inView:n,scrollRef:t}=e;const d=(0,s.Z)();return(0,a.jsx)(r.Fragment,{children:!n&&d>1024?(0,a.jsx)(i.Z,{sx:{alignSelf:"center",position:"fixed",backgroundColor:"".concat(l.l.ColorPrimary)},onClick:()=>{t.current.scrollIntoView({behavior:"smooth"})},children:(0,a.jsx)(o.Z,{color:"colorSecondar",sx:{fontSize:".7em"}})}):(0,a.jsx)(a.Fragment,{})})}},45834:(e,n,t)=>{t.d(n,{Z:()=>r});var o=t(72791),i=t(79917),s=t(86775),l=t(33957);t(36009);const r=(e,n)=>{o.useEffect((()=>{(null===e||void 0===e?void 0:e.Count)>0&&(async(e,n,t,o,r)=>{const a=JSON.parse(sessionStorage.getItem("patient"));(0,s.Post)("POST","".concat("/api/DoctorWorkList/CalcService"),!0,{dateeHozoor:(null===a||void 0===a?void 0:a.DateHozoor)||(null===a||void 0===a?void 0:a.InsertDate),idInsurance:e,idPerson:(null===a||void 0===a?void 0:a.IdPerson)||(null===a||void 0===a?void 0:a.FldIdDoctor),serviceID:n,timeHozoor:(0,l.p)((null===a||void 0===a?void 0:a.TimeHozoor)||(null===a||void 0===a?void 0:a.InsertTime)),count:t}).then((e=>{if(1===e.data.resCode){const n=e.data.Data.list[0];o((e=>e.map((e=>e.ID===r.ID?{...e,InsurancePart:null===n||void 0===n?void 0:n.InsurancePart,PatientPart:null===n||void 0===n?void 0:n.PatientPart,TotalPrice:null===n||void 0===n?void 0:n.TotalPrice}:e))))}else(0,i.Z)("error",e.data.resMessage,!1)}))})(null===n||void 0===n?void 0:n.id_insurance,e.ID,e.Count,null===n||void 0===n?void 0:n.set_largelist,e)}),[null===e||void 0===e?void 0:e.Count])}},48400:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(72791);const i=(e,n)=>{(0,o.useEffect)((()=>{var t,o;e.Count>0?-1===(null===n||void 0===n||null===(t=n.selected)||void 0===t?void 0:t.findIndex((n=>n.ID===e.ID)))?n.set_select((n=>[...n,{...e,select:!0}])):n.set_select((n=>n.map((n=>n.ID===e.ID?{...e,select:!0}:n)))):0===e.Count&&-1!==(null===n||void 0===n||null===(o=n.selected)||void 0===o?void 0:o.findIndex((n=>n.ID===e.ID)))&&n.set_select((n=>n.filter((n=>n.ID!==e.ID))))}),[e])}},92223:(e,n,t)=>{t.d(n,{j:()=>o});const o=(e,n,t)=>{t(!0),setTimeout((()=>{t(!1)}),650),n.Count>0&&(null===e||void 0===e||e.set_largelist((e=>e.map((e=>e.ID===n.ID?{...e,Count:e.Count-1}:e)))))}},7882:(e,n,t)=>{t.d(n,{F:()=>o});const o=(e,n,t)=>{t(!0),setTimeout((()=>{t(!1)}),650),null===e||void 0===e||e.set_largelist((e=>e.map((e=>e.ID===n.ID?{...e,Count:e.Count+1}:e))))}},62105:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ue});var o=t(72791),i=t(20803),s=t(94162),l=t(48313);const r=(e,n,t,i,s,l)=>{const[r,a]=(0,o.useState)(50),[d,c]=(0,o.useState)(r),[u,v]=(0,o.useState)([]),[f,m]=(0,o.useState)(0),[g,h]=(0,o.useState)(!1),[I,x]=(0,o.useState)(!0);(0,o.useEffect)((()=>{if(s&&e){let n=50;s.forEach((t=>{const o=e.findIndex((e=>e.ID===t.ID));o>n&&(n=o+20)})),a(n),c(n)}}),[s,e,l]);return(0,o.useEffect)((()=>{if(e){let o=e.slice(0,d);n&&(o=n(o,...t)),v(i?i(e,t):o)}}),[e,d,t,l]),(0,o.useEffect)((()=>{h(!0),x(!1)}),[]),{list:u,handleTouchMove:e=>{const n=e.touches[0].clientY;c(n>f?e=>e+1:e=>e>r?e-1:e)},handleScroll:e=>{e.deltaY>0?c((e=>e+1)):c((e=>e>r?e-1:e))},handleTouchStart:e=>{m(e.touches[0].clientY)},activated:g,firstCall:I}},a=(e,n,t)=>{const[i,s]=(0,o.useState)(e),[l,r]=(0,o.useState)([]);return(0,o.useEffect)((()=>{const n=[...l];e.forEach((e=>{e.Count>0&&!n.includes(e.ID)?n.push(e.ID):0===e.Count&&n.includes(e.ID)&&n.splice(n.indexOf(e.ID),1)})),r(n)}),[e]),(0,o.useEffect)((()=>{n>0&&r([])}),[n,e]),(0,o.useEffect)((()=>{0===l.length&&t(0)}),[l]),(0,o.useEffect)((()=>{const n=[...e];l.forEach(((e,t)=>{const o=n.findIndex((n=>n.ID===e));if(-1!==o){const[e]=n.splice(o,1);n.splice(t,0,e)}})),s(n)}),[l]),i};var d=t(73736);const c=(e,n)=>{let t=[...null===e||void 0===e?void 0:e.map((e=>({...e,Name:(0,d.J)(null===e||void 0===e?void 0:e.Name)})))],o=!isNaN(n),i=e=>{let t=0;return o&&Number(e.Code)===Number(n)&&(t+=2),e.Name.includes(n)&&(t+=1),t};return t.sort(((e,n)=>i(n)-i(e))),t.slice(0,10)};var u=t(45620);const v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;const l=(0,u.Z)(n,1),r=a(e,t,i),d=c(e,l),v=(0,o.useMemo)((()=>d),[JSON.stringify(d)]),f=a(v,t,i);return 0===n.length?s?r:e:s?f:v};var f=t(83405),m=t(79917),g=t(86775),h=(t(36009),t(33957));const I=async(e,n)=>{const t=JSON.parse(sessionStorage.getItem("patient"));(null===n||void 0===n?void 0:n.idInsurance)&&(0,g.Post)("POST","".concat("/api/DoctorWorkList/GetErjaServiceList"),!0,{dateHozoor:null===t||void 0===t?void 0:t.DateHozoor,idInsurance:null===n||void 0===n?void 0:n.idInsurance,Idperson:null===t||void 0===t?void 0:t.IdPerson,searchfield:"",timeHozoor:(0,h.p)(null===t||void 0===t?void 0:t.TimeHozoor)}).then((t=>{1===t.data.resCode?e((e=>{var o,i;return{...e,[null===n||void 0===n?void 0:n.ObjName]:null===t||void 0===t||null===(o=t.data)||void 0===o||null===(i=o.Data)||void 0===i?void 0:i.InsuranceServiceList.map((e=>({...e,select:!1,InsurancePart:0,PatientPart:0,TotalPrice:0})))}})):(0,m.Z)("error",t.data.resMessage,!1)}))},x=async(e,n)=>{const t=JSON.parse(sessionStorage.getItem("patient")),o=JSON.parse(sessionStorage.getItem("conferData"));(0,g.Post)("POST","".concat("/api/DoctorWorkList/ErjaViewAddOrEdit"),!0,{idAppWorkList:null===t||void 0===t?void 0:t.Id,idConfer:null===o||void 0===o?void 0:o.ID,idPatient:null===t||void 0===t?void 0:t.IdPatient}).then((t=>{1===t.data.resCode?e((e=>({...e,[n.ObjName]:t.data.Data}))):(0,m.Z)("error",t.data.resMessage,!1)}))};var p=t(58828);var C=t(80184);const j=(0,o.createContext)(),S=e=>{var n,t;let{children:i}=e;const[s,a]=(0,o.useState)(!1),[c,u]=(0,o.useState)(0),S=sessionStorage.getItem("saved_insurance"),D=(0,o.useRef)("undefined"!==S&&"null"!==S?JSON.parse(S):null),Z=JSON.parse(sessionStorage.getItem("patient")),b=sessionStorage.getItem("saved_confers"),_=(0,o.useRef)(JSON.parse(b)),[P,y]=(0,o.useState)(""),[N,z]=(0,o.useState)(D.current?D.current[0].ItemValue:null===Z||void 0===Z?void 0:Z.IdInsurance),[E,L]=(0,o.useState)(0),[T,k]=(0,o.useState)(""),{gatheredData:O}=(0,l.Z)((H=N,[{functions:f.e,parameters:"InsuranceList"},{functions:I,parameters:{ObjName:"Confer",idInsurance:H}},{functions:x,parameters:{ObjName:"Info"}}]));var H;const[w,J]=(0,o.useState)((null===O||void 0===O?void 0:O.Confer)||[]),[F,M]=(0,o.useState)(_.current||[]),[V,A]=(0,o.useState)(),[B,G]=(0,o.useState)({enabled:!1,list:[]});(0,o.useEffect)((()=>{var e,n;null!==O&&void 0!==O&&O.Confer&&(null===O||void 0===O||null===(e=O.Confer)||void 0===e?void 0:e.length)>0&&J(((e,n)=>{const t=[...e];return null===n||void 0===n||n.forEach((e=>{const n=t.findIndex((n=>n.ID===e.ID));-1!==n&&(t[n]=e)})),t})(null===O||void 0===O?void 0:O.Confer,null===O||void 0===O||null===(n=O.Info)||void 0===n?void 0:n.SavedServiceList))}),[null===O||void 0===O?void 0:O.Confer]);const W=v(w,T,c,u,s,null===B||void 0===B?void 0:B.list),{list:R,handleTouchMove:Y,handleScroll:q}=r(W,void 0,void 0,void 0,_.current,c),K=R;(0,o.useEffect)((()=>{F.length>0?sessionStorage.setItem("saved_confers",JSON.stringify(F)):sessionStorage.removeItem("saved_confers")}),[F]),(0,o.useEffect)((()=>{_.current&&null!==O&&void 0!==O&&O.Confer&&J(((e,n)=>{const t=[...e];return n.forEach((e=>{const n=t.findIndex((n=>n.ID===e.ID));-1!==n&&(t[n]=e)})),t})(null===O||void 0===O?void 0:O.Confer,_.current))}),[null===O||void 0===O?void 0:O.Confer]),(0,o.useEffect)((()=>{const e=F.map((e=>"".concat(e.ID,",").concat(e.Count))).join("#");y(e)}),[F]),(0,o.useEffect)((()=>{c>0&&(_.current=[],sessionStorage.removeItem("saved_confers"),M([]),J([]))}),[c]),(0,o.useEffect)((()=>{var e,n;(null===O||void 0===O||null===(e=O.Confer)||void 0===e?void 0:e.length)>0&&sessionStorage.setItem("saved_insurance",JSON.stringify(null===O||void 0===O||null===(n=O.InsuranceList)||void 0===n?void 0:n.filter((e=>e.ItemValue===N))))}),[O]),(0,o.useEffect)((()=>{F.length>0&&M((e=>{let n={},t=!1;return e.forEach((function(e){n[e.ID]?t=!0:n[e.ID]=!0})),t?Object.keys(n).map((function(n){return e.find((function(e){return e.ID==n}))})):e})(F))}),[F]),(0,o.useEffect)((()=>{var e,n,t;sessionStorage.setItem("patient",JSON.stringify({...Z,IdInsurance:N,InsuranceName:null!==(e=null===O||void 0===O||null===(n=O.InsuranceList)||void 0===n||null===(t=n.filter((e=>e.ItemValue===N))[0])||void 0===t?void 0:t.ItemContent)&&void 0!==e?e:""}))}),[F,null===O||void 0===O?void 0:O.InsuranceList]),(0,o.useEffect)((()=>{null!==B&&void 0!==B&&B.enabled&&(async(e,n,t,o,i)=>{t((e=>({...e,loading:!0})));const s=JSON.parse(sessionStorage.getItem("patient"));(0,g.Post)("POST","".concat("/api/DoctorWorkList/CalcService_byTashkhis"),!0,{dateeHozoor:null===s||void 0===s?void 0:s.DateHozoor,idInsurance:e,idPerson:null===s||void 0===s?void 0:s.IdPerson,timeHozoor:(0,h.p)(null===s||void 0===s?void 0:s.TimeHozoor),idTashkhis:n}).then((e=>{var n,o,s;1===e.data.resCode?((null===e||void 0===e||null===(n=e.data)||void 0===n||null===(o=n.Data)||void 0===o||null===(s=o.list)||void 0===s?void 0:s.length)>0&&i((n=>n.map((n=>{var t,o,i,s,l,r,a,d;return(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(o=t.Data)||void 0===o||null===(i=o.list)||void 0===i?void 0:i.findIndex((e=>e.ID===n.ID)))>-1?null===e||void 0===e||null===(s=e.data)||void 0===s||null===(l=s.Data)||void 0===l?void 0:l.list[null===e||void 0===e||null===(r=e.data)||void 0===r||null===(a=r.Data)||void 0===a||null===(d=a.list)||void 0===d?void 0:d.findIndex((e=>e.ID===n.ID))]:n})))),t((n=>({enabled:n.enabled,list:e.data.Data.list.map((e=>({...e,select:!0})))})))):((0,m.Z)("error",e.data.resMessage,!1),t({enabled:!1,list:[]}))}))})(N,V,G,0,J)}),[null===B||void 0===B?void 0:B.enabled]),(0,o.useEffect)((()=>{B.list&&M(null===B||void 0===B?void 0:B.list)}),[JSON.stringify(B.list)]),console.log("=========================.......>>>>>",{InsuranceName:null===O||void 0===O||null===(n=O.InsuranceList)||void 0===n?void 0:n.filter((e=>e.ItemValue===N)),InsuranceList:null===O||void 0===O?void 0:O.InsuranceList,Insurance:N});const Q={defaultinsurance:D.current?[{ItemValue:(0,d.J)(D.current[0].ItemContent),ItemContent:(0,d.J)(D.current[0].ItemContent)}]:[{ItemValue:(0,d.J)(null===Z||void 0===Z?void 0:Z.InsuranceName),ItemContent:(0,d.J)(null===Z||void 0===Z?void 0:Z.InsuranceName)}],insurance:null===O||void 0===O?void 0:O.InsuranceList,info:null===O||void 0===O?void 0:O.Info,services:null===O||void 0===O?void 0:O.Confer,set_insurance:z,set_doctor_off:L,doctor_off:E,set_search:k,optimized_services:K,scroll_handlers:[Y,q],set_largelist:J,id_insurance:N,set_select:M,selected:F,ApiReadyData:{dateCreditNoteBook:(0,p.d)(),discountDoctor:E,discountMarkaz:null===O||void 0===O||null===(t=O.Info)||void 0===t?void 0:t.DiscountMarkaz,erjaId:0,idInsurance:N,insuranceNumber:"",noPageNoteBook:"",serviceListData:P,idDiagnosis:V},set_reset:u,reset:c,set_reset:u,setBringTop:a,detection:V,setDetection:A,detectionBaseList:B,setDetectionBaseList:G,search:T,bringTop:s};return(0,C.jsx)(j.Provider,{value:Q,children:i})};var D=t(94225),Z=t(91397),b=t(30178);const _=e=>{let{context:n,GlobalConstants:t}=e;const[i,s]=(0,o.useState)();return(0,o.useEffect)((()=>{null!==i&&void 0!==i&&i.ItemValue&&(null===n||void 0===n||n.set_reset((e=>e+1)))}),[i]),(0,C.jsx)(o.Fragment,{children:(0,C.jsx)(D.Z,{isSingle:!0,isEnglish:"en"===b.ZP.language,initialData:null===n||void 0===n?void 0:n.defaultinsurance,SelectableDataArray:null===n||void 0===n?void 0:n.insurance,label:(0,Z.Z)("general-public-insurance-type",null===t||void 0===t?void 0:t.LanguageArray),onChange:null===n||void 0===n?void 0:n.set_insurance,GetSelectedValue:s})})};t(70654);var P=t(87058);t(99755);const y=e=>{var n;let{context:t,GlobalConstants:i}=e;return(0,C.jsx)(o.Fragment,{children:(0,C.jsx)(P.Z,{disabled:!0,label:(0,Z.Z)("add-new-confer-input-off-markaz",null===i||void 0===i?void 0:i.LanguageArray),isEnglish:"en"===b.ZP.language,Initialvalue:(null===t||void 0===t||null===(n=t.info)||void 0===n?void 0:n.DiscountMarkaz)||0})})};var N=t(3504);const z=e=>{var n;let{context:t,GlobalConstants:i}=e;return(0,C.jsx)(o.Fragment,{children:(0,C.jsx)(N.Z,{label:(0,Z.Z)("add-new-confer-input-off-doctor",null===i||void 0===i?void 0:i.LanguageArray),isEnglish:"en"===b.ZP.language,value:(null===t||void 0===t||null===(n=t.info)||void 0===n?void 0:n.DiscountDoctor)||0,onChange:null===t||void 0===t?void 0:t.set_doctor_off})})};t(9396);var E=t(67675),L=t(46843),T=t(49500);const k=()=>{const e=(0,o.useContext)(j),[n,t]=(0,o.useState)(null),i=JSON.parse(sessionStorage.getItem("patient")),s=(0,Z.Z)("general-public-label-diagnose"),[l,r]=(0,o.useState)([]);return console.log("detectionList=>",l),(0,o.useLayoutEffect)((()=>{(0,T.H)(r,"detectionList")}),[]),(0,o.useEffect)((()=>{if(n){var t;const o=null===l||void 0===l||null===(t=l.detectionList)||void 0===t?void 0:t.filter((e=>e.ItemContent===(null===n||void 0===n?void 0:n.ItemContent)))[0];null===e||void 0===e||e.setDetection(null===o||void 0===o?void 0:o.ItemValue)}}),[n,JSON.stringify(l)]),(0,C.jsx)(o.Fragment,{children:(0,C.jsx)(D.Z,{isSingle:!0,SelectableDataArray:null===l||void 0===l?void 0:l.detectionList,label:s,initialData:[{ItemValue:(0,d.J)(null===i||void 0===i?void 0:i.NameDiagnosis),ItemContent:(0,d.J)(null===i||void 0===i?void 0:i.NameDiagnosis)}],enableInitialOnchange:!0,GetSelectedValue:t})})},O=()=>{var e;const n=(0,o.useContext)(j),t=(0,o.useContext)(E.k);null===(e=(0,o.useContext)(E.k))||void 0===e||e.LanguageArray;return(0,C.jsx)(o.Fragment,{children:(0,C.jsx)("form",{onSubmit:e=>{e.preventDefault()},children:(0,C.jsxs)(s.Z,{spacing:1,children:[(0,C.jsx)(_,{context:n,GlobalConstants:t}),(0,C.jsx)(k,{context:n}),(0,C.jsxs)(s.Z,{direction:"row-reverse",gap:".5em",children:[(0,C.jsx)(y,{context:n,GlobalConstants:t}),(0,C.jsx)(z,{context:n,GlobalConstants:t})]})]})})})};var H=t(17205),w=t(91888);const J="Confer_general_style_ConferGeneral__acgYu",F="Confer_general_style_ConferGeneral_select__siS5G",M="Confer_general_style_ConferName__TSCxz",V="Confer_general_style_confersContainer__wrqz4",A=e=>{let{confer:n}=e;return(0,C.jsx)(o.Fragment,{children:(0,C.jsx)(s.Z,{children:(0,C.jsx)("p",{className:M,children:(0,d.J)(null===n||void 0===n?void 0:n.Name)})})})};var B=t(68087),G=t(65370),W=t(13811),R=t(7882),Y=t(92223),q=t(30433);const K=e=>{let{context:n,confer:t}=e;const[i,l]=(0,o.useState)(!1),{setBringTop:r}=n;return(0,C.jsx)(o.Fragment,{children:(0,C.jsxs)(s.Z,{alignItems:"center",children:[(0,C.jsx)(W.Z,{onClick:()=>{(0,R.F)(n,t,l),r(!1)},disabled:i,children:(0,C.jsx)(B.Z,{sx:{fill:"".concat(q.l.ColorPrimary," !important")}})}),(0,C.jsx)("p",{children:null===t||void 0===t?void 0:t.Count}),(0,C.jsx)(W.Z,{onClick:()=>{(0,Y.j)(n,t,l),r(!1)},disabled:i||0===t.Count,children:(0,C.jsx)(G.Z,{sx:{fill:"".concat(q.l.ColorPrimary," !important")}})})]})})};var Q=t(45834),U=t(83737);const X=e=>{var n;let{confer:t,context:i}=e;(0,Q.Z)(t,i);const l=null===(n=(0,o.useContext)(E.k))||void 0===n?void 0:n.LanguageArray;return(0,C.jsx)(o.Fragment,{children:(0,C.jsxs)(s.Z,{width:"100%",children:[(0,C.jsx)("hr",{}),(0,C.jsxs)(s.Z,{alignSelf:"end",width:"60%",children:[(0,C.jsxs)(s.Z,{direction:"row-reverse",justifyContent:"space-between",children:[(0,C.jsxs)("p",{children:[(0,Z.Z)("confer-add-edit-common-label-patient-payable",l),":"]}),(0,C.jsx)("p",{children:(0,U.B)(null===t||void 0===t?void 0:t.PatientPart)})]}),(0,C.jsxs)(s.Z,{alignItems:"center",direction:"row-reverse",justifyContent:"space-between",children:[(0,C.jsxs)("p",{children:[(0,Z.Z)("confer-add-edit-common-label-insurance-payable",l),":"]}),(0,C.jsx)("p",{children:(0,U.B)(null===t||void 0===t?void 0:t.InsurancePart)})]}),(0,C.jsxs)(s.Z,{alignItems:"center",direction:"row-reverse",justifyContent:"space-between",children:[(0,C.jsxs)("p",{children:[(0,Z.Z)("confer-add-edit-common-label-total-price",l),":"]}),(0,C.jsx)("p",{children:(0,U.B)(null===t||void 0===t?void 0:t.TotalPrice)})]})]})]})})};var $=t(48400);const ee=e=>{let{confer:n,context:t}=e;return(0,$.Z)(n,t),(0,C.jsx)(o.Fragment,{children:(0,C.jsxs)(s.Z,{className:(null===n||void 0===n?void 0:n.Count)>0?F:J,direction:"row-reverse",justifyContent:"space-between",alignItems:"center",sx:{borderColor:n.select&&"gray !important"},children:[(0,C.jsxs)(s.Z,{spacing:1,alignItems:"flex-end",width:"100%",children:[(0,C.jsx)(A,{confer:n}),(null===n||void 0===n?void 0:n.Count)>0?(0,C.jsx)(X,{confer:n,context:t}):(0,C.jsx)(C.Fragment,{})]}),(0,C.jsx)(K,{context:t,confer:n})]})})};var ne=t(96015),te=t(96580);const oe=e=>{var n,t;let{context:i}=e;return(0,C.jsx)(o.Fragment,{children:null!==i&&void 0!==i&&i.services&&null!==i&&void 0!==i&&i.optimized_services&&(null===i||void 0===i||null===(n=i.optimized_services)||void 0===n?void 0:n.length)>0?(0,C.jsx)(o.Fragment,{children:(0,C.jsx)("div",{onWheel:null===i||void 0===i?void 0:i.scroll_handlers[1],onTouchMove:null===i||void 0===i?void 0:i.scroll_handlers[0],style:{transition:"all .3s ease"},children:(0,C.jsx)(ne.Z,{sx:{mt:"1em",transition:"all .5s ease"},className:V,children:null===i||void 0===i||null===(t=i.optimized_services)||void 0===t?void 0:t.map((e=>(0,C.jsx)(ee,{confer:e,context:i},e.ID)))})})}):(0,C.jsx)(s.Z,{marginTop:"1em",width:"100%",alignItems:"center",children:(0,C.jsx)(te.Z,{sx:{color:"".concat(q.l.ColorPrimary," !important")}})})})},ie=(0,o.memo)(oe);t(34675);const se=e=>{var n;let{context:t}=e;const i=null===(n=(0,o.useContext)(E.k))||void 0===n?void 0:n.LanguageArray;return(0,C.jsx)(o.Fragment,{children:(0,C.jsx)(P.Z,{label:(0,Z.Z)("general-public-search",i),isEnglish:"en"===b.ZP.language,onChange:null===t||void 0===t?void 0:t.set_search,Initialvalue:null===t||void 0===t?void 0:t.search,customOnChange:e=>{e.target.value.length>0&&(null===t||void 0===t||t.setBringTop(!1))}})})};var le=t(57210),re=t(91410);var ae=t(44990),de=t(27899);const ce=()=>{var e,n;const t=(0,o.useContext)(j),i=(0,o.useContext)(E.k),l=(0,o.useRef)(null),r=(0,de.Z)(l),a=(0,Z.Z)("add-edit-confer-show-items"),d=null===t||void 0===t?void 0:t.setBringTop,c=(0,Z.Z)("add-confer-btn-label-select-services-by-detection"),u=null===t||void 0===t?void 0:t.bringTop,v=null===t||void 0===t||null===(e=t.detectionBaseList)||void 0===e?void 0:e.enabled,f=(()=>{(0,Z.Z)("add-new-alert-confirm-confer");const e=JSON.parse(sessionStorage.getItem("patient")),n=JSON.parse(sessionStorage.getItem("conferData"));return(t,o,i,s)=>{(0,g.Post)("POST","".concat("/api/DoctorWorkList/AddEditConferPatient"),!0,{...t,idPatient:null===e||void 0===e?void 0:e.IdPatient,idAppWorkList:null===e||void 0===e?void 0:e.Id,Idperson:null===e||void 0===e?void 0:e.IdPerson,idConfer:null===n||void 0===n?void 0:n.ID,timeHozoor:TimeToMinutes(null===e||void 0===e?void 0:e.TimeHozoor),dateHozoor:null===e||void 0===e?void 0:e.DateHozoor}).then((e=>{1===e.data.resCode?(0,m.Z)("success",e.data.resMessage,!1):(0,m.Z)("error",e.data.resMessage,!1),s.setChangeRender((e=>!e)),setTimeout((()=>{o(-1)}),600)}))}})(),h=(0,Z.Z)("edit-confer-alert-sure-edit"),I=(0,Z.Z)("add-new-alert-no-items-selected");return(0,C.jsx)(o.Fragment,{children:(0,C.jsxs)(s.Z,{children:[(0,C.jsx)(H.Z,{variant:"outlined",fullWidth:!0,sx:{mb:".5em",minHeight:"40px",color:"".concat(v?q.l.ColorSecondary:q.l.ColorPrimary," !important"),backgroundColor:"".concat(v?q.l.ColorPrimary:q.l.ColorSecondary," !important")},color:"colorPrimer",startIcon:(0,C.jsx)(le.Z,{}),onClick:()=>{null===t||void 0===t||t.setDetectionBaseList((e=>({...e,enabled:!e.enabled}))),d((e=>!e))},children:c}),(0,C.jsx)(H.Z,{variant:"outlined",fullWidth:!0,sx:{mb:"1em",minHeight:"40px",color:"".concat(u?q.l.ColorSecondary:q.l.ColorPrimary," !important"),backgroundColor:"".concat(u?q.l.ColorPrimary:q.l.ColorSecondary," !important")},color:"colorPrimer",startIcon:(0,C.jsx)(re.Z,{}),onClick:()=>{d((e=>!e)),null===t||void 0===t||t.set_search("")},children:a}),null!==t&&void 0!==t&&null!==(n=t.detectionBaseList)&&void 0!==n&&n.loading?(0,C.jsx)(w.Z,{sx:{my:".5em"}}):(0,C.jsx)(C.Fragment,{}),(0,C.jsx)(se,{context:t}),(0,C.jsx)("div",{style:{marginTop:".5em"},children:(0,C.jsx)(H.Z,{disabled:(0,L.Z)("edit-confer-opetation-edit-confer"),variant:"contained",fullWidth:!0,sx:{color:"".concat(q.l.ColorPrimary," !important")},onClick:()=>{HandleSubmitForm(null===t||void 0===t?void 0:t.ApiReadyData,null===t||void 0===t?void 0:t.info,i.navigate,i,f,h,I)},ref:l,children:(0,Z.Z)("edit-current-confer-submit-button")})}),(0,C.jsx)(ae.Z,{inView:r,scrollRef:l}),(0,C.jsx)(ie,{context:t})]})})},ue=()=>((0,o.useEffect)((()=>()=>{sessionStorage.removeItem("saved_confers"),sessionStorage.removeItem("saved_insurance")}),[]),(0,C.jsx)(o.Fragment,{children:(0,C.jsx)(S,{children:(0,C.jsx)(i.Z,{sx:{mt:"1em"},children:(0,C.jsxs)(s.Z,{spacing:1,children:[(0,C.jsx)(O,{}),(0,C.jsx)(ce,{})]})})})}))},49500:(e,n,t)=>{t.d(n,{H:()=>l});var o=t(79917),i=t(73736),s=t(86775);t(36009);const l=async(e,n)=>{(0,s.Post)("POST","".concat("/api/Public/GetTashkhisList"),!0,{idSystem:900,clause:""}).then((t=>{1===t.data.resCode?e({[n]:t.data.Data.list.map((e=>({ItemValue:e.Id,ItemContent:(0,i.J)(e.Name)})))}):(0,o.Z)("error",t.data.resMessage,!1)}))}},68087:(e,n,t)=>{t.d(n,{Z:()=>s});var o=t(81245),i=t(80184);const s=(0,o.Z)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},57210:(e,n,t)=>{t.d(n,{Z:()=>s});var o=t(81245),i=t(80184);const s=(0,o.Z)((0,i.jsx)("path",{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10L22 5.18zM12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8c1.57 0 3.04.46 4.28 1.25l1.45-1.45C16.1 2.67 14.13 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10c1.73 0 3.36-.44 4.78-1.22l-1.5-1.5c-1 .46-2.11.72-3.28.72zm7-5h-3v2h3v3h2v-3h3v-2h-3v-3h-2v3z"}),"AddTask")},91410:(e,n,t)=>{t.d(n,{Z:()=>s});var o=t(81245),i=t(80184);const s=(0,o.Z)((0,i.jsx)("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"}),"List")},65370:(e,n,t)=>{t.d(n,{Z:()=>s});var o=t(81245),i=t(80184);const s=(0,o.Z)((0,i.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove")}}]);
//# sourceMappingURL=105.43d1dabe.chunk.js.map