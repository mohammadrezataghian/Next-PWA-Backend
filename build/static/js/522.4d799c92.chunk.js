"use strict";(self.webpackChunknew_ui=self.webpackChunknew_ui||[]).push([[522],{39522:(e,a,l)=>{l.r(a),l.d(a,{default:()=>P});var t=l(20803),i=l(94162),n=l(91888),d=l(9396),o=l(9181),s=l(72791),r=l(61134),u=l(79917),m=l(86775);l(36009);const v=(e,a)=>{for(let l in e)""!==e[l]&&null!==e[l]&&void 0!==e[l]||(e[l]=a[l]);(async e=>{(0,m.Post)("POST","".concat("/api/user/UpdateProfileInfo"),!0,{...e}).then((e=>{1===e.data.resCode?(0,u.Z)("success",e.data.resMessage,!1):(0,u.Z)("error",e.data.resMessage,!1)}))})(e)};var c=l(88329);const g=()=>{const[e,a]=s.useState({});return s.useEffect((()=>{(async e=>{var a;const l=c.Z.get("user")&&(null===(a=JSON.parse(c.Z.get("user")))||void 0===a?void 0:a.Id);(0,m.Post)("POST","".concat("/api/user/GetProfileInfo"),!0,{Id:l}).then((a=>{1===a.data.resCode?e(a.data.Data):(0,u.Z)("error",a.data.resMessage,!1)}))})(a)}),[]),{userInformation:e}};l(16027);var b=l(64997),I=l(94225),h=(l(73544),l(99755),l(91397)),p=l(80184);const f=e=>({FirstName:null===e||void 0===e?void 0:e.FirstName,LastName:null===e||void 0===e?void 0:e.LastName,FatherName:null===e||void 0===e?void 0:e.FatherName,BirthDate:null===e||void 0===e?void 0:e.BirthDate,NationalCode:null===e||void 0===e?void 0:e.NationalCode,Address:null===e||void 0===e?void 0:e.Address,Telephon:null===e||void 0===e?void 0:e.Telephon,Mobile:null===e||void 0===e?void 0:e.Mobile,FullName:null===e||void 0===e?void 0:e.FullName,Email:null===e||void 0===e?void 0:e.Email,Id:null===e||void 0===e?void 0:e.Id,IdGender:null===e||void 0===e?void 0:e.IdGender,NameGender:null===e||void 0===e?void 0:e.NameGender,idCitySokonat:null===e||void 0===e?void 0:e.idCitySokonat,idCityTavalod:null===e||void 0===e?void 0:e.idCityTavalod});var Z=l(39230),C=l(67675),N=l(70370),S=l(87058),x=l(73736);const y=(e,a,l,t,i,n,d,o)=>{const[r,u]=(0,s.useState)(),m=(0,h.Z)("complete-user-input-first-name"),v=(0,h.Z)("complete-user-input-last-name"),c=(0,h.Z)("complete-user-information-input-father-name"),g=(0,h.Z)("general-public-mobile-number"),f=(0,h.Z)("signup-input-email"),Z=(0,h.Z)("complete-user-information-input-birth-day"),C=(0,h.Z)("complete-user-information-input-city-born"),y=(0,h.Z)("general-public-address"),j=(0,h.Z)("complete-user-information-input-telephone"),E=(0,h.Z)("general-public-word-gender"),T=(0,h.Z)("save-patients-for-visit-form-input-marriage-state");return(0,s.useEffect)((()=>{var a,s,r;i&&e.nameCityTavalod&&n&&d&&u([{element:(0,p.jsx)(S.Z,{disabled:t,label:m,Initialvalue:(0,x.J)(e.FirstName),isEnglish:"en"===(null===l||void 0===l?void 0:l.language)}),name:"FirstName"},{element:(0,p.jsx)(S.Z,{disabled:t,label:v,Initialvalue:(0,x.J)(e.LastName),isEnglish:"en"===(null===l||void 0===l?void 0:l.language)}),name:"LastName"},{element:(0,p.jsx)(S.Z,{disabled:t,label:c,Initialvalue:(0,x.J)(e.FatherName),isEnglish:"en"===(null===l||void 0===l?void 0:l.language)}),name:"FatherName"},{element:(0,p.jsx)(I.Z,{disabled:t,isSingle:!0,label:E,initialData:[{ItemValue:(null===n||void 0===n||null===(a=n.filter((a=>a.ItemValue===e.IdGender))[0])||void 0===a?void 0:a.ItemContent)||"",ItemContent:(null===n||void 0===n||null===(s=n.filter((a=>a.ItemValue===e.IdGender))[0])||void 0===s?void 0:s.ItemContent)||""}],SelectableDataArray:n,enableInitialOnchange:!0}),name:"IdGender",required:!0},{element:(0,p.jsx)(I.Z,{isSingle:!0,disabled:t,label:T,SelectableDataArray:d,isEnglish:"en"===(null===l||void 0===l?void 0:l.language),initialData:[{ItemContent:(0,x.J)(e.nameTaahol)||"",ItemValue:(0,x.J)(e.nameTaahol)||""}],enableInitialOnchange:!0}),name:"idTaahol",required:!0},{element:(0,p.jsx)(S.Z,{disabled:t,label:g,Initialvalue:e.Mobile,isEnglish:"en"===(null===l||void 0===l?void 0:l.language)}),name:"Mobile"},{element:(0,p.jsx)(S.Z,{disabled:t,label:f,Initialvalue:e.Email,isEnglish:"en"===(null===l||void 0===l?void 0:l.language)}),name:"Email"},{element:(0,p.jsx)(N.Z,{Disabled:t,Placeholder:Z,initialValue:e.BirthDate,isEnglish:"en"===(null===l||void 0===l?void 0:l.language)}),name:"BirthDate"},{element:(0,p.jsx)(b.Z,{disabled:t,isSingle:!0,label:C,defaultValue:(0,x.J)(e.nameCityTavalod)||(0,x.J)(null===i||void 0===i||null===(r=i.filter((e=>(null===e||void 0===e?void 0:e.id)===(null===o||void 0===o?void 0:o.idCityDifault)))[0])||void 0===r?void 0:r.label),SelectableDataArray:i,initialOnChange:!0}),name:"nameCityTavalod"},{element:(0,p.jsx)(S.Z,{label:y,Initialvalue:(0,x.J)(e.Address),isEnglish:"en"===(null===l||void 0===l?void 0:l.language)}),name:"Address",required:!0},{element:(0,p.jsx)(S.Z,{label:j,Initialvalue:e.Telephon,isEnglish:"en"===(null===l||void 0===l?void 0:l.language)}),name:"Telephon",required:!0}])}),[e,a,l,t,i,n,d]),r},j=()=>{const[e,a]=(0,s.useState)([]);return(0,s.useEffect)((()=>{(0,m.Post)("POST","".concat("/api/Public/GenderList"),!0,{Id:0}).then((e=>{1===e.data.resCode?a(e.data.Data.list.map((e=>({ItemContent:(0,x.J)(e.Name),ItemValue:e.Id})))):(0,u.Z)("error",e.data.resMessage,!1)}))}),[]),e},E=()=>{const[e,a]=(0,s.useState)([]);return(0,s.useEffect)((()=>{(0,m.Post)("Post","".concat("/api/Public/MaritalStatusList"),{}).then((e=>{1===e.data.resCode?a(e.data.Data.list.map((e=>({ItemContent:(0,x.J)(e.Name),ItemValue:e.Id})))):(0,u.Z)("error",e.data.resMessage,!1)}))}),[]),e},T=()=>{const[e,a]=(0,s.useState)([]);return(0,s.useEffect)((()=>{(0,m.Post)("Post","".concat("/api/Public/CityList"),!0,{}).then((e=>{1===e.data.resCode?a(e.data.Data.list.map((e=>({label:(0,x.J)(e.Name),id:e.Id})))):(0,u.Z)("error",e.data.resMessage,!1)}))}),[]),e},D=()=>{const[e,a]=(0,s.useState)();return(0,s.useEffect)((()=>{(0,m.Get)("".concat("/api/public/GetDefaultParamApp"),{}).then((e=>{1===e.data.resCode?a(e.data.Data):(0,u.Z)("error",e.data.resMessage,!1)}))}),[]),e},P=()=>{var e;const a=D(),l=T(),u=j(),m=E(),{userInformation:b}=g(),{control:I,formState:N,handleSubmit:S}=(0,r.cI)({defaultValues:f(b)}),{t:x,i18n:P}=(0,Z.$G)(),G=null===(e=(0,s.useContext)(C.k))||void 0===e?void 0:e.LanguageArray,F=((0,s.useContext)(C.k).roles,JSON.parse(c.Z.get("user"))),J=null===F||void 0===F?void 0:F.CommitedHisInfo,M=y(b,G,P,J,l,u,m,a),V=(0,h.Z)("general-public-btn-save"),A=null===F||void 0===F?void 0:F.Id;return(0,p.jsx)(s.Fragment,{children:(0,p.jsx)(t.Z,{maxWidth:"md",children:(0,p.jsx)("form",{onSubmit:S((e=>{((e,a,l,t,i,n,d)=>{var o,s,r;const u=null===e||void 0===e||null===(o=e.filter((e=>e.label===l.nameCityTavalod))[0])||void 0===o?void 0:o.id,m=null===a||void 0===a||null===(s=a.filter((e=>e.ItemValue===l.IdGender))[0])||void 0===s?void 0:s.ItemValue;l.idCityTavalod=u,l.idCitySokonat=l.idCityTavalod,l.FullName="".concat(l.FirstName,"\xa0").concat(l.LastName),l.Id=i,l.IdGender=m,l.NationalCode=t.NationalCode,l.NameGender=null===a||void 0===a||null===(r=a.filter((e=>e.ItemValue===l.IdGender))[0])||void 0===r?void 0:r.ItemContent})(l,u,e,F,A),v(e,b)})),children:(0,p.jsxs)(i.Z,{marginTop:"1em",sx:{gap:".5em"},children:[M?(0,p.jsx)(o.Z,{control:I,formState:N,DataArray:M}):(0,p.jsx)(n.Z,{}),M?(0,p.jsx)(d.Z,{label:V}):(0,p.jsx)(p.Fragment,{}),(0,p.jsx)("br",{})]})})})})}}}]);
//# sourceMappingURL=522.4d799c92.chunk.js.map