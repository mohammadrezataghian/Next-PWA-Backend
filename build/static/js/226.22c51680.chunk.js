"use strict";(self.webpackChunknew_ui=self.webpackChunknew_ui||[]).push([[226],{27899:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(72791);const i=e=>{const[n,t]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const n=new IntersectionObserver((e=>{let[n]=e;return t(n.isIntersecting)}));return n.observe(e.current),()=>{n.disconnect()}}),[]),n}},70226:(e,n,t)=>{t.r(n),t.d(n,{default:()=>me});var o=t(72791),i=t(20803),l=t(94162),s=t(48313);const a=function(e,n,t,i,l,s){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:50;const[r,d]=(0,o.useState)(a),[c,u]=(0,o.useState)(r),[v,m]=(0,o.useState)([]),[f,g]=(0,o.useState)(0),[h,x]=(0,o.useState)(!1),[I,p]=(0,o.useState)(!0);(0,o.useEffect)((()=>{if(l&&e){let n=a;l.forEach((t=>{const o=e.findIndex((e=>e.ID===t.ID));o>n&&(n=o+20)})),d(n),u(n)}}),[l,e,s]);const j=e=>{e.deltaY>0?u((e=>e+1)):u((e=>e>r?e-1:e))},C=e=>{g(e.touches[0].clientY)},S=e=>{const n=e.touches[0].clientY;u(n>f?e=>e+1:e=>e>r?e-1:e)};return(0,o.useEffect)((()=>{if(e){let o=e.slice(0,c);n&&(o=n(o,...t)),m(i?i(e,t):o)}}),[e,c,t,s]),(0,o.useEffect)((()=>{x(!0),p(!1)}),[]),{list:v,handleTouchMove:S,handleScroll:j,handleTouchStart:C,activated:h,firstCall:I}},r=(e,n,t)=>{const[i,l]=(0,o.useState)(e),[s,a]=(0,o.useState)([]);return(0,o.useEffect)((()=>{const n=[...s];e.forEach((e=>{e.Count>0&&!n.includes(e.ID)?n.push(e.ID):0===e.Count&&n.includes(e.ID)&&n.splice(n.indexOf(e.ID),1)})),a(n)}),[e]),(0,o.useEffect)((()=>{n>0&&a([])}),[n,e]),(0,o.useEffect)((()=>{0===s.length&&t(0)}),[s]),(0,o.useEffect)((()=>{const n=[...e];s.forEach(((e,t)=>{const o=n.findIndex((n=>n.ID===e));if(-1!==o){const[e]=n.splice(o,1);n.splice(t,0,e)}})),l(n)}),[s]),i};var d=t(73736);const c=(e,n)=>{let t=[...null===e||void 0===e?void 0:e.map((e=>({...e,Name:(0,d.J)(null===e||void 0===e?void 0:e.Name)})))],o=!isNaN(n),i=e=>{let t=0;return o&&Number(e.Code)===Number(n)&&(t+=2),e.Name.includes(n)&&(t+=1),t};return t.sort(((e,n)=>i(n)-i(e))),t.slice(0,10)};var u=t(45620);const v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;const a=r(s,t,i),d=(0,u.Z)(n,1),v=c(s,d),m=(0,o.useMemo)((()=>v),[JSON.stringify(v)]),f=r(m,t,i);return 0===n.length?l?a:e:l?f:m};var m=t(83405),f=t(79917),g=t(86775),h=t(33957);t(36009);const x=async(e,n)=>{const t=JSON.parse(sessionStorage.getItem("patient"));console.log("the patient is =>",{patient:t,parameters:n}),(null===n||void 0===n?void 0:n.idInsurance)&&(0,g.Post)("POST","".concat("/api/DoctorWorkList/GetErjaServiceList"),!0,{dateHozoor:(null===t||void 0===t?void 0:t.DateHozoor)||(null===t||void 0===t?void 0:t.InsertDate),idInsurance:null===n||void 0===n?void 0:n.idInsurance,Idperson:(null===t||void 0===t?void 0:t.IdPerson)||(null===t||void 0===t?void 0:t.FldIdDoctor),searchfield:"",timeHozoor:(0,h.p)((null===t||void 0===t?void 0:t.TimeHozoor)||(null===t||void 0===t?void 0:t.InsertTime))}).then((t=>{1===t.data.resCode?e((e=>{var o,i;return{...e,[null===n||void 0===n?void 0:n.ObjName]:null===t||void 0===t||null===(o=t.data)||void 0===o||null===(i=o.Data)||void 0===i?void 0:i.InsuranceServiceList.map((e=>({...e,select:!1,InsurancePart:0,PatientPart:0,TotalPrice:0})))}})):(0,f.Z)("error",t.data.resMessage,!1)}))},I=async(e,n)=>{const t=JSON.parse(sessionStorage.getItem("patient"));(0,g.Post)("POST","".concat("/api/DoctorWorkList/ErjaViewAddOrEdit"),!0,{idAppWorkList:(null===t||void 0===t?void 0:t.Id)||(null===t||void 0===t?void 0:t.FldId),idConfer:0,idPatient:(null===t||void 0===t?void 0:t.IdPatient)||(null===t||void 0===t?void 0:t.FldId)}).then((t=>{1===t.data.resCode?e((e=>({...e,[n.ObjName]:t.data.Data}))):(0,f.Z)("error",t.data.resMessage,!1)}))};var p=t(58828);var j=t(80184);const C=(0,o.createContext)(),S=e=>{var n;let{children:t}=e;const[i,l]=(0,o.useState)(!1),[r,c]=(0,o.useState)(0),u=sessionStorage.getItem("saved_insurance"),S=(0,o.useRef)("undefined"!==u&&"null"!==u?JSON.parse(u):null),Z=JSON.parse(sessionStorage.getItem("patient")),D=sessionStorage.getItem("saved_confers"),b=(0,o.useRef)(JSON.parse(D)),[_,y]=(0,o.useState)(""),[P,N]=(0,o.useState)(S.current?S.current[0].ItemValue:(null===Z||void 0===Z?void 0:Z.IdInsurance)||(null===Z||void 0===Z?void 0:Z.FldIdInsurance)),[z,E]=(0,o.useState)(0),[T,k]=(0,o.useState)(""),[O,w]=(0,o.useState)(),[L,H]=(0,o.useState)({enabled:!1,list:[]}),{gatheredData:F}=(0,s.Z)((J=P,[{functions:m.e,parameters:"InsuranceList"},{functions:x,parameters:{ObjName:"Confer",idInsurance:J}},{functions:I,parameters:{ObjName:"Info"}}]));var J;const[A,M]=(0,o.useState)((null===F||void 0===F?void 0:F.Confer)||[]),[V,B]=(0,o.useState)(b.current||[]);console.log("->",{selected:V,detectionBaseList:L}),(0,o.useEffect)((()=>{var e;null!==F&&void 0!==F&&F.Confer&&(null===F||void 0===F||null===(e=F.Confer)||void 0===e?void 0:e.length)>0&&M(null===F||void 0===F?void 0:F.Confer)}),[null===F||void 0===F?void 0:F.Confer]);const{list:W,handleTouchMove:R,handleScroll:G}=a(A,void 0,void 0,void 0,b.current,r,25),[Y,q]=(0,o.useState)([]);(0,o.useEffect)((()=>{}),[JSON.stringify(A)]);const K=v(W,T,r,c,i,A);(0,o.useEffect)((()=>{V.length>0?sessionStorage.setItem("saved_confers",JSON.stringify(V)):sessionStorage.removeItem("saved_confers")}),[V]),(0,o.useEffect)((()=>{b.current&&null!==F&&void 0!==F&&F.Confer&&M(((e,n)=>{const t=[...e];return n.forEach((e=>{const n=t.findIndex((n=>n.ID===e.ID));-1!==n&&(t[n]=e)})),t})(null===F||void 0===F?void 0:F.Confer,b.current))}),[null===F||void 0===F?void 0:F.Confer]),(0,o.useEffect)((()=>{const e=V.map((e=>"".concat(e.ID,",").concat(e.Count))).join("#");y(e)}),[V]),(0,o.useEffect)((()=>{r>0&&(b.current=[],sessionStorage.removeItem("saved_confers"),B([]),M([]))}),[r]),(0,o.useEffect)((()=>{var e,n;(null===F||void 0===F||null===(e=F.Confer)||void 0===e?void 0:e.length)>0&&sessionStorage.setItem("saved_insurance",JSON.stringify(null===F||void 0===F||null===(n=F.InsuranceList)||void 0===n?void 0:n.filter((e=>e.ItemValue===P))))}),[null===F||void 0===F?void 0:F.Confer]),(0,o.useEffect)((()=>{null!==L&&void 0!==L&&L.enabled&&(async(e,n,t,o,i)=>{t((e=>({...e,loading:!0})));const l=JSON.parse(sessionStorage.getItem("patient"));console.log("patientpatient---\x3e",l),(0,g.Post)("POST","".concat("/api/DoctorWorkList/CalcService_byTashkhis"),!0,{dateeHozoor:null===l||void 0===l?void 0:l.DateHozoor,idInsurance:e,idPerson:null===l||void 0===l?void 0:l.IdPerson,timeHozoor:(0,h.p)(null===l||void 0===l?void 0:l.TimeHozoor),idTashkhis:n}).then((e=>{var n,o,l;1===e.data.resCode?((null===e||void 0===e||null===(n=e.data)||void 0===n||null===(o=n.Data)||void 0===o||null===(l=o.list)||void 0===l?void 0:l.length)>0&&i((n=>n.map((n=>{var t,o,i,l,s,a,r,d;return(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(o=t.Data)||void 0===o||null===(i=o.list)||void 0===i?void 0:i.findIndex((e=>e.ID===n.ID)))>-1?null===e||void 0===e||null===(l=e.data)||void 0===l||null===(s=l.Data)||void 0===s?void 0:s.list[null===e||void 0===e||null===(a=e.data)||void 0===a||null===(r=a.Data)||void 0===r||null===(d=r.list)||void 0===d?void 0:d.findIndex((e=>e.ID===n.ID))]:n})))),t((n=>({enabled:n.enabled,list:e.data.Data.list.map((e=>({...e,select:!0})))})))):((0,f.Z)("error",e.data.resMessage,!1),t({enabled:!1,list:[]}))}))})(P,O,H,0,M)}),[null===L||void 0===L?void 0:L.enabled]),(0,o.useEffect)((()=>{L.list&&B(null===L||void 0===L?void 0:L.list)}),[JSON.stringify(L.list)]),console.log("dataString---\x3e",_);const Q={defaultinsurance:S.current?[{ItemValue:(0,d.J)(S.current[0].ItemContent),ItemContent:(0,d.J)(S.current[0].ItemContent)}]:[{ItemValue:(0,d.J)((null===Z||void 0===Z?void 0:Z.InsuranceName)||(null===Z||void 0===Z?void 0:Z.NameInsurance)),ItemContent:(0,d.J)((null===Z||void 0===Z?void 0:Z.InsuranceName)||(null===Z||void 0===Z?void 0:Z.NameInsurance))}],insurance:null===F||void 0===F?void 0:F.InsuranceList,info:null===F||void 0===F?void 0:F.Info,services:null===F||void 0===F?void 0:F.Confer,set_insurance:N,set_doctor_off:E,doctor_off:z,set_search:k,optimized_services:K,scroll_handlers:[R,G],set_largelist:M,id_insurance:P,set_select:B,selected:V,ApiReadyData:{dateCreditNoteBook:(0,p.d)(),discountDoctor:z,discountMarkaz:null===F||void 0===F||null===(n=F.Info)||void 0===n?void 0:n.DiscountMarkaz,erjaId:0,idInsurance:P,insuranceNumber:"",noPageNoteBook:"",serviceListData:_,idDiagnosis:O},set_reset:c,reset:r,set_reset:c,setBringTop:l,setDetection:w,detection:O,detectionBaseList:L,setDetectionBaseList:H,search:T,bringTop:i};return(0,j.jsx)(C.Provider,{value:Q,children:t})};var Z=t(94225),D=t(91397),b=t(30178);const _=e=>{let{context:n,languageArray:t}=e;const[i,l]=(0,o.useState)();return(0,o.useEffect)((()=>{null!==i&&void 0!==i&&i.ItemValue&&(null===n||void 0===n||n.set_reset((e=>e+1)))}),[i]),console.log("--------------------\x3e",{context:null===n||void 0===n?void 0:n.insurance,defaultinsurance:null===n||void 0===n?void 0:n.defaultinsurance}),(0,j.jsx)(o.Fragment,{children:(0,j.jsx)(Z.Z,{isSingle:!0,isEnglish:"en"===b.ZP.language,initialData:null===n||void 0===n?void 0:n.defaultinsurance,SelectableDataArray:null===n||void 0===n?void 0:n.insurance,label:(0,D.Z)("general-public-insurance-type",t),onChange:null===n||void 0===n?void 0:n.set_insurance,GetSelectedValue:l,enableInitialOnchange:!0})})};var y=t(87058);t(99755);const P=e=>{var n;let{context:t,languageArray:i}=e;return(0,j.jsx)(o.Fragment,{children:(0,j.jsx)(y.Z,{label:(0,D.Z)("add-new-confer-input-off-markaz",i),isEnglish:"en"===b.ZP.language,Initialvalue:(null===t||void 0===t||null===(n=t.info)||void 0===n?void 0:n.DiscountMarkaz)||0,disabled:!0})})};var N=t(3504);const z=e=>{var n;let{context:t,languageArray:i}=e;return(0,j.jsx)(o.Fragment,{children:(0,j.jsx)(N.Z,{label:(0,D.Z)("add-new-confer-input-off-doctor",i),isEnglish:"en"===b.ZP.language,value:(null===t||void 0===t||null===(n=t.info)||void 0===n?void 0:n.DiscountDoctor)||0,onChange:null===t||void 0===t?void 0:t.set_doctor_off})})};var E=t(67675),T=t(92186),k=(t(84074),t(49500));const O=()=>{const e=(0,o.useContext)(C),[n,t]=(0,o.useState)(null),i=JSON.parse(sessionStorage.getItem("patient")),l=(0,D.Z)("general-public-label-diagnose"),[s,a]=(0,o.useState)([]);return(0,o.useEffect)((()=>{(0,k.H)(a,"detectionList")}),[]),(0,o.useEffect)((()=>{if(n){var t;const o=null===s||void 0===s||null===(t=s.detectionList)||void 0===t?void 0:t.filter((e=>e.ItemContent===(null===n||void 0===n?void 0:n.ItemContent)))[0];null===e||void 0===e||e.setDetection(null===o||void 0===o?void 0:o.ItemValue)}}),[n,JSON.stringify(s)]),(0,j.jsx)(o.Fragment,{children:null!==i&&void 0!==i&&i.NameDiagnosis?(0,j.jsx)(Z.Z,{isSingle:!0,SelectableDataArray:null===s||void 0===s?void 0:s.detectionList,label:l,initialData:[{ItemValue:(0,d.J)(null===i||void 0===i?void 0:i.NameDiagnosis),ItemContent:(0,d.J)(null===i||void 0===i?void 0:i.NameDiagnosis)}],enableInitialOnchange:!0,GetSelectedValue:t}):(0,j.jsx)(T.Z,{isSingle:!0,SelectableDataArray:null===s||void 0===s?void 0:s.detectionList,label:l,enableInitialOnchange:!0,GetSelectedValue:t})})},w=()=>{var e;const n=(0,o.useContext)(C),t=null===(e=(0,o.useContext)(E.k))||void 0===e?void 0:e.LanguageArray;return(0,j.jsx)(o.Fragment,{children:(0,j.jsx)("form",{onSubmit:e=>{e.preventDefault()},children:(0,j.jsxs)(l.Z,{spacing:".5em",children:[(0,j.jsx)(_,{context:n,languageArray:t}),(0,j.jsx)(O,{context:n}),(0,j.jsxs)(l.Z,{direction:"row-reverse",gap:".5em",children:[(0,j.jsx)(P,{context:n,languageArray:t}),(0,j.jsx)(z,{context:n,languageArray:t})]})]})})})};var L=t(17205),H=t(91888);const F="Confer_general_style_ConferGeneral__R1i4a",J="Confer_general_style_ConferGeneral_select__zxC1W",A="Confer_general_style_ConferName__WFF4A",M="Confer_general_style_confersContainer__ASVEs",V=e=>{let{confer:n}=e;return(0,j.jsx)(o.Fragment,{children:(0,j.jsx)(l.Z,{children:(0,j.jsx)("p",{className:A,children:(0,d.J)(null===n||void 0===n?void 0:n.Name)})})})};var B=t(68087),W=t(65370),R=t(13811),G=t(7882),Y=t(92223),q=t(30433);const K=e=>{let{context:n,confer:t}=e;const[i,s]=(0,o.useState)(!1),{setBringTop:a}=n;return(0,j.jsx)(o.Fragment,{children:(0,j.jsxs)(l.Z,{alignItems:"center",children:[(0,j.jsx)("p",{style:{fontSize:"0.9em",color:"".concat(q.l.ColorPrimary)},children:null===t||void 0===t?void 0:t.ID}),(0,j.jsx)(R.Z,{onClick:e=>{(0,G.F)(n,t,s),a(!1)},disabled:i,children:(0,j.jsx)(B.Z,{sx:{fill:"".concat(q.l.ColorPrimary," !important")}})}),(0,j.jsx)("p",{children:null===t||void 0===t?void 0:t.Count}),(0,j.jsx)(R.Z,{onClick:e=>{(0,Y.j)(n,t,s),a(!1)},disabled:i||0===t.Count,children:(0,j.jsx)(W.Z,{sx:{fill:"".concat(q.l.ColorPrimary," !important")}})})]})})};var Q=t(45834),U=t(83737);const X=e=>{var n;let{confer:t,context:i}=e;(0,Q.Z)(t,i);const s=null===(n=(0,o.useContext)(E.k))||void 0===n?void 0:n.LanguageArray;return(0,j.jsx)(o.Fragment,{children:(0,j.jsxs)(l.Z,{width:"100%",children:[(0,j.jsx)("hr",{}),(0,j.jsxs)(l.Z,{alignSelf:"end",width:"60%",children:[(0,j.jsxs)(l.Z,{direction:"row-reverse",justifyContent:"space-between",children:[(0,j.jsxs)("p",{children:[(0,D.Z)("confer-add-edit-common-label-patient-payable",s),":"]}),(0,j.jsx)("p",{children:(0,U.B)(null===t||void 0===t?void 0:t.PatientPart)})]}),(0,j.jsxs)(l.Z,{alignItems:"center",direction:"row-reverse",justifyContent:"space-between",children:[(0,j.jsxs)("p",{children:[(0,D.Z)("confer-add-edit-common-label-insurance-payable",s),":"]}),(0,j.jsx)("p",{children:(0,U.B)(null===t||void 0===t?void 0:t.InsurancePart)})]}),(0,j.jsxs)(l.Z,{alignItems:"center",direction:"row-reverse",justifyContent:"space-between",children:[(0,j.jsxs)("p",{children:[(0,D.Z)("confer-add-edit-common-label-total-price",s),":"]}),(0,j.jsx)("p",{children:(0,U.B)(null===t||void 0===t?void 0:t.TotalPrice)})]})]})]})})};var $=t(48400);const ee=e=>{let{confer:n,context:t}=e;return(0,$.Z)(n,t),(0,j.jsx)(o.Fragment,{children:(0,j.jsxs)(l.Z,{className:(null===n||void 0===n?void 0:n.Count)>0?J:F,direction:"row-reverse",justifyContent:"space-between",alignItems:"center",sx:{borderColor:n.select&&"gray !important"},children:[(0,j.jsxs)(l.Z,{alignItems:"flex-end",width:"100%",children:[(0,j.jsx)(V,{confer:n}),(null===n||void 0===n?void 0:n.Count)>0?(0,j.jsx)(X,{confer:n,context:t}):(0,j.jsx)(j.Fragment,{})]}),(0,j.jsx)(K,{context:t,confer:n})]})})};var ne=t(96015),te=t(96580);const oe=e=>{var n,t;let{context:i}=e;return(0,j.jsx)(o.Fragment,{children:null!==i&&void 0!==i&&i.services&&null!==i&&void 0!==i&&i.optimized_services&&(null===i||void 0===i||null===(n=i.optimized_services)||void 0===n?void 0:n.length)>0?(0,j.jsx)(o.Fragment,{children:(0,j.jsx)("div",{onWheel:null===i||void 0===i?void 0:i.scroll_handlers[1],onTouchMove:null===i||void 0===i?void 0:i.scroll_handlers[0],style:{transition:"all .3s ease"},children:(0,j.jsx)(ne.Z,{sx:{mt:".5em",transition:"all .5s ease"},className:M,children:null===i||void 0===i||null===(t=i.optimized_services)||void 0===t?void 0:t.map((e=>(0,j.jsx)(ee,{confer:e,context:i},e.ID)))})})}):(0,j.jsx)(l.Z,{marginTop:"1em",width:"100%",alignItems:"center",children:(0,j.jsx)(te.Z,{})})})},ie=(0,o.memo)(oe),le=e=>{let{context:n}=e;const t=(0,D.Z)("general-public-search");return(0,j.jsx)(o.Fragment,{children:(0,j.jsx)("div",{className:"confer-search-color-layout",children:(0,j.jsx)(y.Z,{label:t,isEnglish:"en"===b.ZP.language,onChange:null===n||void 0===n?void 0:n.set_search,Initialvalue:null===n||void 0===n?void 0:n.search,customOnChange:e=>{e.target.value.length>0&&(null===n||void 0===n||n.setBringTop(!1))}})})})};var se=t(57210),ae=t(91410),re=t(46843);const de=(e,n,t,o,i,l)=>{var s;console.log("ApiDataApiData---\x3e",e),(null===e||void 0===e||null===(s=e.serviceListData)||void 0===s?void 0:s.length)>0?(0,f.Z)("warning",i,!0,(()=>{(async(e,n,t)=>{const o=JSON.parse(sessionStorage.getItem("patient"));(0,g.Post)("POST","".concat("/api/DoctorWorkList/AddEditConferPatient"),!0,{...e,idPatient:null===o||void 0===o?void 0:o.IdPatient,idAppWorkList:null===o||void 0===o?void 0:o.Id,Idperson:null===o||void 0===o?void 0:o.IdPerson,timeHozoor:(0,h.p)(null===o||void 0===o?void 0:o.TimeHozoor),dateHozoor:null===o||void 0===o?void 0:o.DateHozoor}).then((e=>{1===e.data.resCode?(0,f.Z)("success",e.data.resMessage,!1):(0,f.Z)("error",e.data.resMessage,!1),setTimeout((()=>{n(-1)}),600)}))})(e,t)})):(0,f.Z)("warning",l,!1)};var ce=t(27899),ue=t(44990);const ve=()=>{var e,n;const t=(0,o.useContext)(C),i=(0,o.useContext)(E.k),s=(0,o.useRef)(null),a=(0,ce.Z)(s),r=(0,D.Z)("add-edit-confer-show-items"),d=(0,D.Z)("add-confer-btn-label-select-services-by-detection"),c=((0,D.Z)("add-new-alert-confirm-confer"),(0,D.Z)("add-new-alert-confirm-adding-confer")),u=(0,D.Z)("add-new-alert-no-items-selected"),v=null===t||void 0===t?void 0:t.setBringTop,m=null===t||void 0===t?void 0:t.bringTop,f=null===t||void 0===t||null===(e=t.detectionBaseList)||void 0===e?void 0:e.enabled;return(0,j.jsx)(o.Fragment,{children:(0,j.jsxs)(l.Z,{children:[(0,j.jsx)(L.Z,{variant:"outlined",fullWidth:!0,sx:{mb:".5em",minHeight:"40px",color:"".concat(f?q.l.ColorSecondary:q.l.ColorPrimary," !important"),backgroundColor:"".concat(f?q.l.ColorPrimary:q.l.ColorSecondary," !important")},color:"colorPrimer",startIcon:(0,j.jsx)(se.Z,{}),onClick:()=>{null===t||void 0===t||t.setDetectionBaseList((e=>({...e,enabled:!e.enabled}))),v((e=>!e))},children:d}),(0,j.jsx)(L.Z,{variant:"outlined",fullWidth:!0,sx:{mb:".5em",minHeight:"40px",color:"".concat(m?q.l.ColorSecondary:q.l.ColorPrimary," !important"),backgroundColor:"".concat(m?q.l.ColorPrimary:q.l.ColorSecondary," !important")},color:"colorPrimer",startIcon:(0,j.jsx)(ae.Z,{}),onClick:()=>{v((e=>!e)),null===t||void 0===t||t.set_search("")},children:r}),null!==t&&void 0!==t&&null!==(n=t.detectionBaseList)&&void 0!==n&&n.loading?(0,j.jsx)(H.Z,{sx:{my:".5em"}}):(0,j.jsx)(j.Fragment,{}),(0,j.jsx)(le,{context:t}),(0,j.jsx)("div",{style:{marginTop:".5em"},children:(0,j.jsx)(L.Z,{disabled:(0,re.Z)("add-confer-operation-add-confer"),variant:"contained",fullWidth:!0,sx:{color:"".concat(q.l.ColorPrimary," !important")},onClick:()=>{de(null===t||void 0===t?void 0:t.ApiReadyData,null===t||void 0===t||t.info,i.navigate,0,c,u)},ref:s,children:(0,D.Z)("general-public-add-new-confer")})}),(0,j.jsx)(ue.Z,{inView:a,scrollRef:s}),(0,j.jsx)(ie,{context:t})]})})},me=()=>((0,o.useEffect)((()=>()=>{sessionStorage.removeItem("saved_confers"),sessionStorage.removeItem("saved_insurance")}),[]),(0,j.jsx)(o.Fragment,{children:(0,j.jsx)(S,{children:(0,j.jsx)(i.Z,{sx:{mt:"1em"},maxWidth:"md",children:(0,j.jsxs)(l.Z,{gap:".5em",children:[(0,j.jsx)(w,{}),(0,j.jsx)(ve,{})]})})})}))},44990:(e,n,t)=>{t.d(n,{Z:()=>d});var o=t(89841),i=t(13811),l=t(40918),s=t(30433),a=t(72791),r=t(80184);const d=e=>{let{inView:n,scrollRef:t}=e;const d=(0,l.Z)();return(0,r.jsx)(a.Fragment,{children:!n&&d>1024?(0,r.jsx)(i.Z,{sx:{alignSelf:"center",position:"fixed",backgroundColor:"".concat(s.l.ColorPrimary)},onClick:()=>{t.current.scrollIntoView({behavior:"smooth"})},children:(0,r.jsx)(o.Z,{color:"colorSecondar",sx:{fontSize:".7em"}})}):(0,r.jsx)(r.Fragment,{})})}},45834:(e,n,t)=>{t.d(n,{Z:()=>a});var o=t(72791),i=t(79917),l=t(86775),s=t(33957);t(36009);const a=(e,n)=>{o.useEffect((()=>{(null===e||void 0===e?void 0:e.Count)>0&&(async(e,n,t,o,a)=>{const r=JSON.parse(sessionStorage.getItem("patient"));(0,l.Post)("POST","".concat("/api/DoctorWorkList/CalcService"),!0,{dateeHozoor:(null===r||void 0===r?void 0:r.DateHozoor)||(null===r||void 0===r?void 0:r.InsertDate),idInsurance:e,idPerson:(null===r||void 0===r?void 0:r.IdPerson)||(null===r||void 0===r?void 0:r.FldIdDoctor),serviceID:n,timeHozoor:(0,s.p)((null===r||void 0===r?void 0:r.TimeHozoor)||(null===r||void 0===r?void 0:r.InsertTime)),count:t}).then((e=>{if(1===e.data.resCode){const n=e.data.Data.list[0];o((e=>e.map((e=>e.ID===a.ID?{...e,InsurancePart:null===n||void 0===n?void 0:n.InsurancePart,PatientPart:null===n||void 0===n?void 0:n.PatientPart,TotalPrice:null===n||void 0===n?void 0:n.TotalPrice}:e))))}else(0,i.Z)("error",e.data.resMessage,!1)}))})(null===n||void 0===n?void 0:n.id_insurance,e.ID,e.Count,null===n||void 0===n?void 0:n.set_largelist,e)}),[null===e||void 0===e?void 0:e.Count])}},48400:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(72791);const i=(e,n)=>{(0,o.useEffect)((()=>{var t,o;e.Count>0?-1===(null===n||void 0===n||null===(t=n.selected)||void 0===t?void 0:t.findIndex((n=>n.ID===e.ID)))?n.set_select((n=>[...n,{...e,select:!0}])):n.set_select((n=>n.map((n=>n.ID===e.ID?{...e,select:!0}:n)))):0===e.Count&&-1!==(null===n||void 0===n||null===(o=n.selected)||void 0===o?void 0:o.findIndex((n=>n.ID===e.ID)))&&n.set_select((n=>n.filter((n=>n.ID!==e.ID))))}),[e])}},92223:(e,n,t)=>{t.d(n,{j:()=>o});const o=(e,n,t)=>{t(!0),setTimeout((()=>{t(!1)}),650),n.Count>0&&(null===e||void 0===e||e.set_largelist((e=>e.map((e=>e.ID===n.ID?{...e,Count:e.Count-1}:e)))))}},7882:(e,n,t)=>{t.d(n,{F:()=>o});const o=(e,n,t)=>{t(!0),setTimeout((()=>{t(!1)}),650),null===e||void 0===e||e.set_largelist((e=>e.map((e=>e.ID===n.ID?{...e,Count:e.Count+1}:e))))}},49500:(e,n,t)=>{t.d(n,{H:()=>s});var o=t(79917),i=t(73736),l=t(86775);t(36009);const s=async(e,n)=>{(0,l.Post)("POST","".concat("/api/Public/GetTashkhisList"),!0,{idSystem:900,clause:""}).then((t=>{1===t.data.resCode?e({[n]:t.data.Data.list.map((e=>({ItemValue:e.Id,ItemContent:(0,i.J)(e.Name)})))}):(0,o.Z)("error",t.data.resMessage,!1)}))}},68087:(e,n,t)=>{t.d(n,{Z:()=>l});var o=t(81245),i=t(80184);const l=(0,o.Z)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},57210:(e,n,t)=>{t.d(n,{Z:()=>l});var o=t(81245),i=t(80184);const l=(0,o.Z)((0,i.jsx)("path",{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10L22 5.18zM12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8c1.57 0 3.04.46 4.28 1.25l1.45-1.45C16.1 2.67 14.13 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10c1.73 0 3.36-.44 4.78-1.22l-1.5-1.5c-1 .46-2.11.72-3.28.72zm7-5h-3v2h3v3h2v-3h3v-2h-3v-3h-2v3z"}),"AddTask")},91410:(e,n,t)=>{t.d(n,{Z:()=>l});var o=t(81245),i=t(80184);const l=(0,o.Z)((0,i.jsx)("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"}),"List")},65370:(e,n,t)=>{t.d(n,{Z:()=>l});var o=t(81245),i=t(80184);const l=(0,o.Z)((0,i.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove")}}]);
//# sourceMappingURL=226.22c51680.chunk.js.map