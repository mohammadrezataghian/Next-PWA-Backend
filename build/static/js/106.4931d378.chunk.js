"use strict";(self.webpackChunknew_ui=self.webpackChunknew_ui||[]).push([[106],{99036:(e,o,n)=>{n.d(o,{Z:()=>s});var t=n(94162),r=n(30433),i=(n(72791),n(39230)),a=n(80184);const s=e=>{let{Icon:o,Gap:n,Text:s,isIconElement:l}=e;const{t:d,i18n:c}=(0,i.$G)();return(0,a.jsxs)(t.Z,{spacing:n,direction:"en"===(null===c||void 0===c?void 0:c.language)?"row":"row-reverse",children:[l||(0,a.jsx)("img",{width:20,height:20,src:o,alt:s}),(0,a.jsx)("p",{style:{color:"".concat(r.l.ColorPrimary," !important")},children:s})]})}},36106:(e,o,n)=>{n.r(o),n.d(o,{default:()=>E});var t=n(20803),r=n(8771),i=n(91888),a=n(94162),s=n(48928),l=n(72791),d=n(79917),c=n(86775);n(36009);const v=async(e,o)=>{null===o||void 0===o||o.setLoadingConferServices(!0);const n=JSON.parse(sessionStorage.getItem("patient"));(0,c.Post)("POST","".concat("/api/DoctorWorkList/AppWorkListConfer"),!0,{idWorkList:(null===n||void 0===n?void 0:n.Id)||n.FldId,IdPatient:(null===n||void 0===n?void 0:n.IdPatient)||n.FldId}).then((n=>{1===n.data.resCode?e((e=>({...e,[o.title]:n.data.Data.FactorList,test:n.data}))):(0,d.Z)("error",n.data.resMessage,!1),null===o||void 0===o||o.setLoadingConferServices(!1)}))};var u=n(48313);var g=n(67675);const p=()=>{const e=(0,l.useContext)(g.k),[o,n]=l.useState([]),[t,r]=l.useState(!1),[i,a]=l.useState(!1);l.useEffect((()=>{r((e=>!e))}),[null===e||void 0===e?void 0:e.changeRender]);const s=[{functions:v,parameters:{title:"ConferList",setLoadingConferServices:a}}],{gatheredData:d}=(0,u.Z)(s,t);return l.useEffect((()=>{n((e=>({...e,...d,loadingConferService:i})))}),[d,t]),[o,r,t]},f="List_Service_Confer_ConferCard__OCmNK",m="List_Service_Confer_confersContainerDesktop__pxiQ7";var x=n(99036),C=n(73736),I=n(83737);var Z=n(91397),h=n(46843),S=n(30433),j=n(80184);const P=e=>{let{confer:o,setForceRender:n}=e;const t=(0,Z.Z)("general-public-alert-settlement-confirm"),r=()=>{(async(e,o,n)=>{const t=JSON.parse(sessionStorage.getItem("patient"));(0,d.Z)("warning",n,!0,(()=>{(0,c.Post)("POST","".concat("/api/DoctorWorkList/SabtePardakhtConfer"),!0,{idConfer:parseInt(e),idPerson:null===t||void 0===t?void 0:t.IdPerson}).then((e=>{1===e.data.resCode?((0,d.Z)("success",e.data.resMessage,!1),o&&o((e=>!e))):((0,d.Z)("error",e.data.resMessage,!1),o&&o((e=>!e)))}))}))})(null===o||void 0===o?void 0:o.ID,n,t)},i=JSON.parse(localStorage.getItem("icons"));return(0,j.jsx)(l.Fragment,{children:(0,j.jsx)("div",{style:{color:(null===o||void 0===o?void 0:o.Count)>0?"green":S.l.ColorPrimary,pointerEvents:(null===o||void 0===o?void 0:o.Count)>0||(0,h.Z)("list-service-confer-action-confirm-confer")?"none":"auto",width:"40%",alignSelf:"end"},onClick:e=>{e.stopPropagation(),r()},children:(0,j.jsx)("span",{style:{cursor:"pointer"},children:(0,j.jsx)(x.Z,{Icon:"data:image/svg+xml;base64,"+(null===i||void 0===i?void 0:i.GeneralIcon["Confirmation.svg"]),Gap:"1em",Text:(null===o||void 0===o?void 0:o.Count)>0?(0,Z.Z)("list-service-confer-label-settled"):(0,Z.Z)("list-service-confer-label-notsettled")})})})})},y=e=>{let{confer:o,setForceRender:n,translate:t}=e;const r=(0,Z.Z)("general-public-alert-settlement-confirm-delete"),i=()=>{(async(e,o,n)=>{(0,d.Z)("warning",n,!0,(()=>{(0,c.Post)("POST","".concat("/api/DoctorWorkList/DeleteConfer"),!0,{idConfer:parseInt(e)}).then((e=>{1===e.data.resCode?((0,d.Z)("success",e.data.resMessage,!1),o((e=>!e))):((0,d.Z)("error",e.data.resMessage,!1),o((e=>!e)))}))}))})(null===o||void 0===o?void 0:o.ID,n,r)},a=JSON.parse(localStorage.getItem("icons"));return(0,j.jsx)(l.Fragment,{children:(0,j.jsx)("div",{style:{color:(null===o||void 0===o?void 0:o.Count)>0||(0,h.Z)("list-service-confer-action-delete-confer")?"gray":S.l.ColorPrimary,pointerEvents:(null===o||void 0===o?void 0:o.Count)>0||(0,h.Z)("list-service-confer-action-delete-confer")?"none":"auto"},children:(0,j.jsx)("span",{onClick:e=>{e.stopPropagation(),i()},style:{cursor:"pointer"},children:(0,j.jsx)(x.Z,{Icon:"data:image/svg+xml;base64,"+(null===a||void 0===a?void 0:a.GeneralIcon["Delete.svg"]),Gap:"1em",Text:(0,Z.Z)("general-public-label-delete")})})})})};var b=n(40918);const D=e=>{let{confer:o,translate:n}=e;const t=(0,l.useContext)(g.k),r=JSON.parse(localStorage.getItem("icons")),i=(0,b.Z)();return(0,j.jsx)(l.Fragment,{children:(0,j.jsx)("div",{style:{color:(null===o||void 0===o?void 0:o.Count)>0||(0,h.Z)("list-service-confer-action-edit-confer")?"gray":S.l.ColorPrimary,pointerEvents:(null===o||void 0===o?void 0:o.Count)>0||(0,h.Z)("list-service-confer-action-edit-confer")?"none":"auto"},children:(0,j.jsx)("span",{onClick:e=>{e.stopPropagation(),window.sessionStorage.setItem("conferData",JSON.stringify(o)),t.navigate(i>1024?"/main/EditConferService":"/EditConferService")},style:{cursor:"pointer"},children:(0,j.jsx)(x.Z,{Icon:"data:image/svg+xml;base64,"+(null===r||void 0===r?void 0:r.GeneralIcon["Edit.svg"]),Gap:"1em",Text:(0,Z.Z)("general-public-label-edit")})})})})},k=(e,o)=>{const[n,t]=l.useState([]),[r,i]=l.useState(""),a=l.useRef(!0),s=(0,Z.Z)("list-service-dialog-change-discount");(0,Z.Z)("general-public-label-edit");l.useMemo((()=>{var t;a.current?a.current=!1:n.length>0&&!0!==isNaN(Number(r))?(async(e,o)=>{const n=JSON.parse(sessionStorage.getItem("patient"));(0,d.Z)("info","\u062f\u0631\u062d\u0627\u0644 \u062b\u0628\u062a",!1),(0,c.Post)("POST","".concat("/api/DoctorWorkList/AddEditConferPatient"),!0,{...e,idPatient:null===n||void 0===n?void 0:n.IdPatient,idAppWorkList:null===n||void 0===n?void 0:n.Id,Idperson:null===n||void 0===n?void 0:n.IdPerson}).then((e=>{1===e.data.resCode?(o((e=>!e)),(0,d.Z)("success",e.data.resMessage,!1)):(0,d.Z)("error",e.data.resMessage,!1)}))})(((e,o,n)=>({dateCreditNoteBook:"",discountDoctor:e,discountMarkaz:null===o||void 0===o?void 0:o.DiscountMarkaz,erjaId:null===o||void 0===o?void 0:o.CurrentTypeErjaId,idConfer:n.ID,idInsurance:null===o||void 0===o?void 0:o.CurrentInsuranceID,insuranceNumber:"",noPageNoteBook:"",serviceListData:null===o||void 0===o?void 0:o.ServiceListData}))(Number(r),null===(t=n[0])||void 0===t?void 0:t.ConferInformation,e),o):(0,d.Z)("warning","\u0644\u0637\u0641\u0627 \u0641\u0642\u0637 \u0639\u062f\u062f \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f",!1)}),[JSON.stringify(n)]);return()=>{(0,d.Z)("fire","",!0,(()=>{(async(e,o,n)=>{const t=JSON.parse(sessionStorage.getItem("patient"));(0,c.Post)("POST","".concat("/api/DoctorWorkList/ErjaViewAddOrEdit"),!0,{idAppWorkList:null===t||void 0===t?void 0:t.Id,idConfer:n,idPatient:null===t||void 0===t?void 0:t.IdPatient}).then((n=>{1===n.data.resCode?e((e=>[{...e,[o]:n.data.Data}])):(0,d.Z)("error",n.data.resMessage,!1)}))})(t,"ConferInformation",null===e||void 0===e?void 0:e.ID)}),s,i,!1)}};var N=n(39230);const L=e=>{let{confer:o,setForceRender:n,setShowNames:t}=e;const r=k(o,n),{t:i}=(0,N.$G)(),a=JSON.parse(localStorage.getItem("icons")),s="data:image/svg+xml;base64,";return(0,j.jsx)(l.Fragment,{children:(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:".5em"},onClick:()=>{t((e=>!e))},children:[(0,j.jsx)(x.Z,{Icon:s+(null===a||void 0===a?void 0:a.GeneralIcon["FullName.svg"]),Text:(0,C.J)(null===o||void 0===o?void 0:o.Doctor),Gap:"1em"}),(0,j.jsx)(x.Z,{Icon:s+(null===a||void 0===a?void 0:a.GeneralIcon["DateAttendance.svg"]),Text:(0,C.J)(null===o||void 0===o?void 0:o.Date),Gap:"1em"}),(0,j.jsx)(x.Z,{Icon:s+(null===a||void 0===a?void 0:a.GeneralIcon["Payable.svg"]),Text:"".concat((0,Z.Z)("general-public-label-payable")," :").concat((0,I.B)(null===o||void 0===o?void 0:o.Payable)),Gap:"1em"}),(0,j.jsx)("span",{onClick:e=>{e.stopPropagation(),r()},style:{cursor:"pointer",color:(null===o||void 0===o?void 0:o.Count)>0||(0,h.Z)("list-service-confer-action-edit-off")?"gray":S.l.ColorPrimary,pointerEvents:(null===o||void 0===o?void 0:o.Count)>0||(0,h.Z)("list-service-confer-action-edit-off")?"none":"auto",width:"40%",alignSelf:"end"},children:(0,j.jsx)(x.Z,{Icon:s+(null===a||void 0===a?void 0:a.GeneralIcon["Discount.svg"]),Text:"".concat((0,Z.Z)("general-public-label-discount")," :").concat((0,I.B)(null===o||void 0===o?void 0:o.discount)),Gap:"1em"})}),(0,j.jsx)(P,{confer:o,setForceRender:n,translate:i}),(0,j.jsx)(y,{confer:o,setForceRender:n,translate:i}),(0,j.jsx)(D,{confer:o,translate:i})]})})};var F=n(17205);var w=n(30178);const O=e=>{let{confer:o}=e;const[n,r]=(0,l.useState)([]);return(0,l.useEffect)((()=>{(async(e,o)=>{o(null);const n=JSON.parse(sessionStorage.getItem("patient"));(0,c.Post)("POST","".concat("/api/DoctorWorkList/ErjaViewAddOrEdit"),!0,{idAppWorkList:null===n||void 0===n?void 0:n.Id,idConfer:e,idPatient:null===n||void 0===n?void 0:n.IdPatient}).then((e=>{1===e.data.resCode?o(e.data.Data.SavedServiceList):(0,d.Z)("error",e.data.resMessage,!1)}))})(null===o||void 0===o?void 0:o.ID,r)}),[]),console.log("serviceNames->",n),(0,j.jsxs)(l.Fragment,{children:[(0,j.jsx)(t.Z,{children:(0,j.jsx)("hr",{})}),n?(0,j.jsx)(a.Z,{gap:".5em",children:null===n||void 0===n?void 0:n.map((e=>(0,j.jsx)(F.Z,{disabled:!0,variant:"outlined",color:"colorPrimer",sx:{display:"flex",justifyContent:"fa"===w.ZP.language?"flex-end":"",textAlign:"fa"===w.ZP.language?"right":"",color:"".concat(null===S.l||void 0===S.l?void 0:S.l.ColorPrimary," !important"),border:".3px solid ".concat(null===S.l||void 0===S.l?void 0:S.l.ColorPrimary," !important")},children:(0,C.J)(null===e||void 0===e?void 0:e.Name)},null===e||void 0===e?void 0:e.ID)))}):(0,j.jsx)(i.Z,{})]})},G=e=>{let{confer:o,setForceRender:n,i18n:t}=e;const[r,i]=(0,l.useState)(!1);return(0,j.jsx)(l.Fragment,{children:(0,j.jsxs)(a.Z,{sx:{p:".5em",borderRadius:"20px",textAlign:"left",alignItems:"en"===(null===t||void 0===t?void 0:t.language)&&"start"},spacing:".5em",bgcolor:"white",height:"100%",children:[(0,j.jsx)(L,{confer:o,setForceRender:n,setShowNames:i}),r?(0,j.jsx)(O,{confer:o}):(0,j.jsx)(j.Fragment,{})]})})},E=()=>{var e,o;const[n,d,c]=p(),{i18n:v}=(0,N.$G)(),u=(0,Z.Z)("general-public-flat-alert-no-data"),g=(0,b.Z)();return(0,j.jsx)(l.Fragment,{children:(0,j.jsx)(t.Z,{maxWidth:g<1024?"md":"lg",children:0===(null===n||void 0===n||null===(e=n.ConferList)||void 0===e?void 0:e.length)?(0,j.jsx)(r.Z,{sx:{mt:"1em",display:"flex",justifyContent:"center"},severity:"warning",children:u}):null!==n&&void 0!==n&&n.loadingConferService?(0,j.jsx)(i.Z,{}):(0,j.jsx)(a.Z,{className:g>1024?m:"",children:null===n||void 0===n||null===(o=n.ConferList)||void 0===o?void 0:o.map((e=>(0,j.jsxs)(s.Z,{sx:{mt:"1em",p:".3em",borderRadius:"20px",mb:0,color:"".concat(S.l.ColorPrimary," !important")},className:f,children:[(0,j.jsx)(j.Fragment,{}),(0,j.jsx)(G,{confer:e,setForceRender:d,i18n:v})]},e.ID)))})})})}}}]);
//# sourceMappingURL=106.4931d378.chunk.js.map