"use strict";(self.webpackChunknew_ui=self.webpackChunknew_ui||[]).push([[106],{99036:(e,n,o)=>{o.d(n,{Z:()=>s});var t=o(94162),r=o(30433),a=(o(72791),o(39230)),i=o(80184);const s=e=>{let{Icon:n,Gap:o,Text:s,isIconElement:l}=e;const{t:d,i18n:c}=(0,a.$G)();return(0,i.jsxs)(t.Z,{spacing:o,direction:"en"===(null===c||void 0===c?void 0:c.language)?"row":"row-reverse",children:[l||(0,i.jsx)("img",{width:20,height:20,src:n,alt:s}),(0,i.jsx)("p",{style:{color:"".concat(r.l.ColorPrimary," !important")},children:s})]})}},36106:(e,n,o)=>{o.r(n),o.d(n,{default:()=>O});var t=o(20803),r=o(8771),a=o(91888),i=o(48928),s=o(72791),l=o(79917),d=o(86775);o(36009);const c=async(e,n)=>{null===n||void 0===n||n.setLoadingConferServices(!0);const o=JSON.parse(sessionStorage.getItem("patient"));(0,d.S)("POST","".concat("/api/DoctorWorkList/AppWorkListConfer"),!0,{idWorkList:null===o||void 0===o?void 0:o.Id,IdPatient:null===o||void 0===o?void 0:o.IdPatient}).then((o=>{1===o.data.resCode?e((e=>({...e,[n.title]:o.data.Data.FactorList,test:o.data}))):(0,l.Z)("error",o.data.resMessage,!1),null===n||void 0===n||n.setLoadingConferServices(!1)}))};var v=o(48313);var u=o(81096);const g=()=>{const e=(0,s.useContext)(u.k),[n,o]=s.useState([]),[t,r]=s.useState(!1),[a,i]=s.useState(!1);s.useEffect((()=>{r((e=>!e))}),[null===e||void 0===e?void 0:e.changeRender]);const l=[{functions:c,parameters:{title:"ConferList",setLoadingConferServices:i}}],{gatheredData:d}=(0,v.Z)(l,t);return s.useEffect((()=>{o((e=>({...e,...d,loadingConferService:a})))}),[d,t]),[n,r,t]},p="List_Service_Confer_ConferCard__59Q2r";var f=o(94162),m=o(99036),x=o(73736),C=o(83737);var S=o(91397),I=o(46843),Z=o(30433),h=o(80184);const j=e=>{let{confer:n,setForceRender:o,languageArray:t}=e;const r=(0,S.Z)("general-public-alert-settlement-confirm"),a=()=>{(async(e,n,o)=>{const t=JSON.parse(sessionStorage.getItem("patient"));(0,l.Z)("warning",o,!0,(()=>{(0,d.S)("POST","".concat("/api/DoctorWorkList/SabtePardakhtConfer"),!0,{idConfer:parseInt(e),idPerson:null===t||void 0===t?void 0:t.IdPerson}).then((e=>{1===e.data.resCode?((0,l.Z)("success",e.data.resMessage,!1),n&&n((e=>!e))):((0,l.Z)("error",e.data.resMessage,!1),n&&n((e=>!e)))}))}))})(null===n||void 0===n?void 0:n.ID,o,r)},i=JSON.parse(localStorage.getItem("icons"));return(0,h.jsx)(s.Fragment,{children:(0,h.jsx)("div",{style:{color:(null===n||void 0===n?void 0:n.Count)>0?"green":Z.l.ColorPrimary,pointerEvents:(null===n||void 0===n?void 0:n.Count)>0||(0,I.Z)("list-service-confer-action-confirm-confer")?"none":"auto",width:"40%",alignSelf:"end"},onClick:e=>{e.stopPropagation(),a()},children:(0,h.jsx)("span",{style:{cursor:"pointer"},children:(0,h.jsx)(m.Z,{Icon:"data:image/svg+xml;base64,"+(null===i||void 0===i?void 0:i.GeneralIcon["Confirmation.svg"]),Gap:"1em",Text:(null===n||void 0===n?void 0:n.Count)>0?(0,S.Z)("list-service-confer-label-settled",t):(0,S.Z)("list-service-confer-label-notsettled",t)})})})})},y=e=>{let{confer:n,setForceRender:o,translate:t,languageArray:r}=e;const a=(0,S.Z)("general-public-alert-settlement-confirm-delete"),i=()=>{(async(e,n,o)=>{(0,l.Z)("warning",o,!0,(()=>{(0,d.S)("POST","".concat("/api/DoctorWorkList/DeleteConfer"),!0,{idConfer:parseInt(e)}).then((e=>{1===e.data.resCode?((0,l.Z)("success",e.data.resMessage,!1),n((e=>!e))):((0,l.Z)("error",e.data.resMessage,!1),n((e=>!e)))}))}))})(null===n||void 0===n?void 0:n.ID,o,a)},c=JSON.parse(localStorage.getItem("icons"));return(0,h.jsx)(s.Fragment,{children:(0,h.jsx)("div",{style:{color:(null===n||void 0===n?void 0:n.Count)>0||(0,I.Z)("list-service-confer-action-delete-confer")?"gray":Z.l.ColorPrimary,pointerEvents:(null===n||void 0===n?void 0:n.Count)>0||(0,I.Z)("list-service-confer-action-delete-confer")?"none":"auto"},children:(0,h.jsx)("span",{onClick:e=>{e.stopPropagation(),i()},style:{cursor:"pointer"},children:(0,h.jsx)(m.Z,{Icon:"data:image/svg+xml;base64,"+(null===c||void 0===c?void 0:c.GeneralIcon["Delete.svg"]),Gap:"1em",Text:(0,S.Z)("general-public-label-delete",r)})})})})};var P=o(40918);const b=e=>{let{confer:n,translate:o,languageArray:t}=e;const r=(0,s.useContext)(u.k),a=JSON.parse(localStorage.getItem("icons")),i=(0,P.Z)();return(0,h.jsx)(s.Fragment,{children:(0,h.jsx)("div",{style:{color:(null===n||void 0===n?void 0:n.Count)>0||(0,I.Z)("list-service-confer-action-edit-confer")?"gray":Z.l.ColorPrimary,pointerEvents:(null===n||void 0===n?void 0:n.Count)>0||(0,I.Z)("list-service-confer-action-edit-confer")?"none":"auto"},children:(0,h.jsx)("span",{onClick:e=>{e.stopPropagation(),window.sessionStorage.setItem("conferData",JSON.stringify(n)),r.navigate(i>1024?"/main/EditConferService":"/EditConferService")},style:{cursor:"pointer"},children:(0,h.jsx)(m.Z,{Icon:"data:image/svg+xml;base64,"+(null===a||void 0===a?void 0:a.GeneralIcon["Edit.svg"]),Gap:"1em",Text:(0,S.Z)("general-public-label-edit",t)})})})})},D=(e,n)=>{const[o,t]=s.useState([]),[r,a]=s.useState(""),i=s.useRef(!0),c=(0,S.Z)("list-service-dialog-change-discount");(0,S.Z)("general-public-label-edit");s.useMemo((()=>{var t;i.current?i.current=!1:o.length>0&&!0!==isNaN(Number(r))?(async(e,n)=>{const o=JSON.parse(sessionStorage.getItem("patient"));(0,l.Z)("info","\u062f\u0631\u062d\u0627\u0644 \u062b\u0628\u062a",!1),(0,d.S)("POST","".concat("/api/DoctorWorkList/AddEditConferPatient"),!0,{...e,idPatient:null===o||void 0===o?void 0:o.IdPatient,idAppWorkList:null===o||void 0===o?void 0:o.Id,Idperson:null===o||void 0===o?void 0:o.IdPerson}).then((e=>{1===e.data.resCode?(n((e=>!e)),(0,l.Z)("success",e.data.resMessage,!1)):(0,l.Z)("error",e.data.resMessage,!1)}))})(((e,n,o)=>({dateCreditNoteBook:"",discountDoctor:e,discountMarkaz:null===n||void 0===n?void 0:n.DiscountMarkaz,erjaId:null===n||void 0===n?void 0:n.CurrentTypeErjaId,idConfer:o.ID,idInsurance:null===n||void 0===n?void 0:n.CurrentInsuranceID,insuranceNumber:"",noPageNoteBook:"",serviceListData:null===n||void 0===n?void 0:n.ServiceListData}))(Number(r),null===(t=o[0])||void 0===t?void 0:t.ConferInformation,e),n):(0,l.Z)("warning","\u0644\u0637\u0641\u0627 \u0641\u0642\u0637 \u0639\u062f\u062f \u0648\u0627\u0631\u062f \u0646\u0645\u0627\u06cc\u06cc\u062f",!1)}),[JSON.stringify(o)]);return()=>{(0,l.Z)("fire","",!0,(()=>{(async(e,n,o)=>{const t=JSON.parse(sessionStorage.getItem("patient"));(0,d.S)("POST","".concat("/api/DoctorWorkList/ErjaViewAddOrEdit"),!0,{idAppWorkList:null===t||void 0===t?void 0:t.Id,idConfer:o,idPatient:null===t||void 0===t?void 0:t.IdPatient}).then((o=>{1===o.data.resCode?e((e=>[{...e,[n]:o.data.Data}])):(0,l.Z)("error",o.data.resMessage,!1)}))})(t,"ConferInformation",null===e||void 0===e?void 0:e.ID)}),c,a,!1)}};var k=o(39230);const N=e=>{let{confer:n,setForceRender:o,languageArray:t,setShowNames:r}=e;const a=D(n,o),{t:i}=(0,k.$G)(),l=JSON.parse(localStorage.getItem("icons")),d="data:image/svg+xml;base64,";return(0,h.jsx)(s.Fragment,{children:(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:".5em"},onClick:()=>{r((e=>!e))},children:[(0,h.jsx)(m.Z,{Icon:d+(null===l||void 0===l?void 0:l.GeneralIcon["FullName.svg"]),Text:(0,x.J)(null===n||void 0===n?void 0:n.Doctor),Gap:"1em"}),(0,h.jsx)(m.Z,{Icon:d+(null===l||void 0===l?void 0:l.GeneralIcon["DateAttendance.svg"]),Text:(0,x.J)(null===n||void 0===n?void 0:n.Date),Gap:"1em"}),(0,h.jsx)(m.Z,{Icon:d+(null===l||void 0===l?void 0:l.GeneralIcon["Payable.svg"]),Text:"".concat((0,S.Z)("general-public-label-payable",t)," :").concat((0,C.B)(null===n||void 0===n?void 0:n.Payable)),Gap:"1em"}),(0,h.jsx)("span",{onClick:e=>{e.stopPropagation(),a()},style:{cursor:"pointer",color:(null===n||void 0===n?void 0:n.Count)>0||(0,I.Z)("list-service-confer-action-edit-off")?"gray":Z.l.ColorPrimary,pointerEvents:(null===n||void 0===n?void 0:n.Count)>0||(0,I.Z)("list-service-confer-action-edit-off")?"none":"auto",width:"40%",alignSelf:"end"},children:(0,h.jsx)(m.Z,{Icon:d+(null===l||void 0===l?void 0:l.GeneralIcon["Discount.svg"]),Text:"".concat((0,S.Z)("general-public-label-discount",t)," :").concat((0,C.B)(null===n||void 0===n?void 0:n.discount)),Gap:"1em"})}),(0,h.jsx)(j,{confer:n,setForceRender:o,translate:i,languageArray:t}),(0,h.jsx)(y,{confer:n,setForceRender:o,translate:i,languageArray:t}),(0,h.jsx)(b,{confer:n,translate:i,languageArray:t})]})})};var L=o(17205);var A=o(30178);const w=e=>{let{confer:n}=e;const[o,r]=(0,s.useState)([]);return(0,s.useEffect)((()=>{(async(e,n)=>{n(null);const o=JSON.parse(sessionStorage.getItem("patient"));(0,d.S)("POST","".concat("/api/DoctorWorkList/ErjaViewAddOrEdit"),!0,{idAppWorkList:null===o||void 0===o?void 0:o.Id,idConfer:e,idPatient:null===o||void 0===o?void 0:o.IdPatient}).then((e=>{1===e.data.resCode?n(e.data.Data.SavedServiceList):(0,l.Z)("error",e.data.resMessage,!1)}))})(null===n||void 0===n?void 0:n.ID,r)}),[]),console.log("serviceNames->",o),(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(t.Z,{children:(0,h.jsx)("hr",{})}),o?(0,h.jsx)(f.Z,{gap:".5em",children:null===o||void 0===o?void 0:o.map((e=>(0,h.jsx)(L.Z,{disabled:!0,variant:"outlined",color:"colorPrimer",sx:{display:"flex",justifyContent:"fa"===A.ZP.language?"flex-end":"",textAlign:"fa"===A.ZP.language?"right":"",color:"".concat(null===Z.l||void 0===Z.l?void 0:Z.l.ColorPrimary," !important"),border:".3px solid ".concat(null===Z.l||void 0===Z.l?void 0:Z.l.ColorPrimary," !important")},children:(0,x.J)(null===e||void 0===e?void 0:e.Name)},null===e||void 0===e?void 0:e.ID)))}):(0,h.jsx)(a.Z,{})]})},F=e=>{let{confer:n,setForceRender:o,i18n:t,languageArray:r}=e;const[a,i]=(0,s.useState)(!1);return(0,h.jsx)(s.Fragment,{children:(0,h.jsxs)(f.Z,{sx:{p:".5em",borderRadius:"20px",textAlign:"left",alignItems:"en"===(null===t||void 0===t?void 0:t.language)&&"start"},spacing:".5em",bgcolor:"white",height:"100%",children:[(0,h.jsx)(N,{confer:n,setForceRender:o,languageArray:r,setShowNames:i}),a?(0,h.jsx)(w,{confer:n}):(0,h.jsx)(h.Fragment,{})]})})},O=()=>{var e,n,o;const l=null===(e=(0,s.useContext)(u.k))||void 0===e?void 0:e.LanguageArray,[d,c,v]=g(),{i18n:f}=(0,k.$G)(),m=(0,S.Z)("general-public-flat-alert-no-data",l);return(0,h.jsx)(s.Fragment,{children:(0,h.jsx)(t.Z,{maxWidth:"md",children:0===(null===d||void 0===d||null===(n=d.ConferList)||void 0===n?void 0:n.length)?(0,h.jsx)(r.Z,{sx:{mt:"1em",display:"flex",justifyContent:"center"},severity:"warning",children:m}):null!==d&&void 0!==d&&d.loadingConferService?(0,h.jsx)(a.Z,{}):null===d||void 0===d||null===(o=d.ConferList)||void 0===o?void 0:o.map((e=>(0,h.jsxs)(i.Z,{sx:{mt:"1em",p:".3em",borderRadius:"20px",mb:0,color:"".concat(Z.l.ColorPrimary," !important")},className:p,children:[(0,h.jsx)(h.Fragment,{}),(0,h.jsx)(F,{confer:e,setForceRender:c,i18n:f,languageArray:l})]},e.ID)))})})}}}]);
//# sourceMappingURL=106.4d59a6b8.chunk.js.map