"use strict";(self.webpackChunknew_ui=self.webpackChunknew_ui||[]).push([[748],{99036:(e,n,a)=>{a.d(n,{Z:()=>r});var t=a(94162),l=a(30433),o=(a(72791),a(39230)),i=a(80184);const r=e=>{let{Icon:n,Gap:a,Text:r,isIconElement:d}=e;const{t:s,i18n:u}=(0,o.$G)();return(0,i.jsxs)(t.Z,{spacing:a,direction:"en"===(null===u||void 0===u?void 0:u.language)?"row":"row-reverse",children:[d||(0,i.jsx)("img",{width:20,height:20,src:n,alt:r}),(0,i.jsx)("p",{style:{color:"".concat(l.l.ColorPrimary," !important")},children:r})]})}},35748:(e,n,a)=>{a.r(n),a.d(n,{default:()=>ne});var t=a(72791),l=a(20803),o=a(94162),i=a(91888),r=a(8771),d=a(81096),s=a(72900),u=a(86321),c=a(4565),m=a(81898),v=a(83492);var g=a(80184);const x=e=>{let{ElementArray:n,defaultValue:a,GetFinalRadioValue:l,onChange:i,small:r,spacing:x,indexPosition:p,radioRightMargin:h,disabled:j,getInitialValue:Z,UiChangeFunction:b,onClickFunction:f,fontSize:y}=e;const[C,S]=(0,t.useState)(null!==a&&void 0!==a?a:""),I=(0,t.useContext)(d.k);t.useEffect((()=>{l&&l(C),Z&&i(C)}),[]),t.useEffect((()=>{b&&b()}),[C]);const R=(0,t.useMemo)((()=>null===n||void 0===n?void 0:n.map(((e,a)=>{var t,l,o;return(0,g.jsx)(s.Z,{dir:"rtl",value:null!==(t=e.RadioValue)&&void 0!==t?t:"",control:(0,g.jsx)(u.Z,{disabled:null!==j&&void 0!==j&&j,color:"colorPrimer",onClick:e=>{f&&f(e.target)},sx:{fontSize:y||"",p:0,marginRight:p&&n.length!==p?a===p&&h:a===n.length-1&&"-1em"}}),label:r?(0,g.jsx)(c.Z,{variant:"body2",color:"textSecondary",children:null!==(l=e.RadioLabel)&&void 0!==l?l:""}):(0,g.jsx)(g.Fragment,{children:null!==(o=e.RadioLabel)&&void 0!==o?o:""})},I.uuidV4())}))),[n,I,r,j]);return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(m.Z,{sx:{width:"100%"},children:(0,g.jsx)(v.Z,{"aria-labelledby":"demo-radio-buttons-group-label",value:null!==C&&void 0!==C?C:"",name:"radio-buttons-group",row:!0,onChange:(e,n)=>{S(n),l&&l(n),i&&i((e=>"true"===e||"false"!==e&&(isNaN(e)?e:Number(e)))(n))},children:(0,g.jsx)(o.Z,{direction:"row",alignItems:"center",justifyContent:"center",width:"100%",gap:null!==x&&void 0!==x?x:".4em",children:R})})})})};var p=a(68087);const h=(0,a(81245).Z)((0,g.jsx)("path",{d:"M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z"}),"FindInPage");var j=a(17205),Z=a(91397),b=a(46843);const f=e=>{let{setShowOrUpload:n,ShowOrUpload:a,StateBank:l,languageArray:o}=e;const i=(0,Z.Z)(a?"upload-oncall-documents-btn-show-documents":"upload-oncall-documents-btn-send-documents",o,a);return(0,g.jsx)(t.Fragment,{children:(0,g.jsx)(j.Z,{disabled:!(null!==l&&void 0!==l&&l.gatheredData)||(null===l||void 0===l?void 0:l.loadingState)||(0,b.Z)("send-doctor-document-btn-send"),fullWidth:!0,variant:"outlined",color:"primary",onClick:()=>n((e=>!e)),startIcon:a?(0,g.jsx)(h,{}):(0,g.jsx)(p.Z,{}),children:i})})},y=e=>{let{setShowOrUpload:n,ShowOrUpload:a,setRadioValue:i,StateBank:r,languageArray:d}=e;const s=((e,n,a)=>({ElementArray:e,defaultValue:"picture",GetFinalRadioValue:n,spacing:"11em",indexPosition:1,radioRightMargin:"-2em",disabled:a}))((e=>[{RadioValue:"file",RadioLabel:(0,Z.Z)("upload-oncall-documents-radio-file",e)},{RadioValue:"picture",RadioLabel:(0,Z.Z)("upload-oncall-documents-radio-picture",e)}])(d),i,a);return(0,g.jsx)(t.Fragment,{children:(0,g.jsx)(l.Z,{children:(0,g.jsxs)(o.Z,{gap:".5em",children:[(0,g.jsx)(x,{...s}),(0,g.jsx)(f,{setShowOrUpload:n,ShowOrUpload:a,StateBank:r,languageArray:d})]})})})};var C=a(48928),S=a(99036),I=a(73736);const R=e=>{var n,a,l,i,r,d,s,u,c,m;let{element:v}=e;const x=JSON.parse(localStorage.getItem("icons")),p="data:image/svg+xml;base64,";return(0,g.jsx)(t.Fragment,{children:(0,g.jsxs)(o.Z,{alignItems:"end",marginBottom:"1em",spacing:1,children:[(0,g.jsx)(S.Z,{Icon:p+(null===x||void 0===x?void 0:x.GeneralIcon["DocumentTypeIcon.svg"]),Gap:"1em",Text:(0,I.J)(null===v||void 0===v||null===(n=v.ItemContent)||void 0===n?void 0:n.nameType)}),""!==(null===v||void 0===v||null===(a=v.ItemContent)||void 0===a?void 0:a.expireDate)?(0,g.jsx)(S.Z,{Icon:p+(null===x||void 0===x?void 0:x.GeneralIcon["DateExpiryDocument.svg"]),Gap:"1em",Text:null===v||void 0===v?void 0:v.expireDate}):(0,g.jsx)(g.Fragment,{}),(0,g.jsx)("p",{children:(null===v||void 0===v||null===(l=v.ItemContent)||void 0===l||null===(i=l.deaription)||void 0===i?void 0:i.length)>15?(null===v||void 0===v||null===(r=v.ItemContent)||void 0===r||null===(d=r.deaription)||void 0===d?void 0:d.substring(0,15))+"...":null===v||void 0===v||null===(s=v.ItemContent)||void 0===s?void 0:s.deaription}),(0,g.jsx)(S.Z,{Icon:p+(null===x||void 0===x?void 0:x.GeneralIcon["PictureFileName.svg"]),Gap:"1em",Text:(0,I.J)(null===v||void 0===v||null===(u=v.ItemContent)||void 0===u?void 0:u.fileName).length>15?(0,I.J)(null===v||void 0===v||null===(c=v.ItemContent)||void 0===c?void 0:c.fileName).substring(0,15)+"...":(0,I.J)(null===v||void 0===v||null===(m=v.ItemContent)||void 0===m?void 0:m.fileName)})]})})};var D=a(96373);const V=e=>{var n,a,l,o;let{element:i,RadioValue:r}=e;const d=(0,Z.Z)("general-public-preview");return(0,g.jsx)(t.Fragment,{children:"picture"===r?(0,g.jsx)("img",{src:"data:image/*;base64,".concat(null===i||void 0===i||null===(n=i.ItemContent)||void 0===n||null===(a=n.imageArrayContent)||void 0===a?void 0:a.image),alt:null===i||void 0===i||null===(l=i.ItemContent)||void 0===l?void 0:l.nameType,style:{maxWidth:"50%",maxHeight:"50%",display:"block",borderRadius:"5px"}}):"data:image/*"!==(null===i||void 0===i||null===(o=i.ItemContent)||void 0===o?void 0:o.base64Extention)?(0,g.jsx)(j.Z,{fullWidth:!0,variant:"outlined",sx:{mt:"1em"},onClick:()=>{var e,n,a;window.open((0,D.V)("".concat(null===i||void 0===i||null===(e=i.ItemContent)||void 0===e?void 0:e.base64Extention).concat(null===i||void 0===i||null===(n=i.ItemContent)||void 0===n||null===(a=n.imageArrayContent)||void 0===a?void 0:a.image)),"_blank")},children:d}):(0,g.jsx)(g.Fragment,{})})};var k=a(49540);const w=e=>{let{element:n,languageArray:a}=e;return(0,g.jsx)(t.Fragment,{children:(0,g.jsx)(j.Z,{fullWidth:!0,variant:"outlined",sx:{mt:"1em"},onClick:()=>{var e;(0,k.R)("".concat(n.base64Extention).concat(null===(e=n.imageArrayContent)||void 0===e?void 0:e.image),n.fileName)},children:(0,Z.Z)("general-public-btn-download",a)})})},F=e=>{let{contentData:n,RadioValue:a,languageArray:l}=e;const i=(0,t.useContext)(d.k);return(0,g.jsx)(t.Fragment,{children:null===n||void 0===n?void 0:n.map((e=>(0,g.jsxs)(C.Z,{sx:{p:".2em"},children:[(0,g.jsx)(R,{element:e}),"picture"===a?(0,g.jsxs)(o.Z,{alignItems:"center",children:[(0,g.jsx)(V,{element:e,RadioValue:a,GlobalConstants:i}),(0,g.jsx)(w,{element:null===e||void 0===e?void 0:e.ItemContent,languageArray:l})]}):(0,g.jsxs)(o.Z,{direction:"row",gap:".5em",children:[(0,g.jsx)(V,{element:e,RadioValue:a,GlobalConstants:i}),(0,g.jsx)(w,{element:null===e||void 0===e?void 0:e.ItemContent,languageArray:l})]})]},i.uuidV4())))})},A=e=>{let{contentData:n,RadioValue:a,languageArray:i}=e;return(0,g.jsx)(t.Fragment,{children:(0,g.jsx)(l.Z,{children:(0,g.jsx)(o.Z,{spacing:2,children:(0,g.jsx)(F,{contentData:n,RadioValue:a,languageArray:i})})})})};var P=a(9396),T=a(48313),O=a(9181),N=a(61134),M=a(79917),E=a(88329),G=(a(36009),a(86775));const L=async e=>{(0,G.S)("POST","".concat("/api/Doctor/GetPersonMadrakTypeList"),!0,{clause:""}).then((n=>{var a,t,l;1===n.data.resCode?e(null===n||void 0===n||null===(a=n.data)||void 0===a||null===(t=a.Data)||void 0===t||null===(l=t.list)||void 0===l?void 0:l.map((e=>({ItemValue:null===e||void 0===e?void 0:e.id,ItemContent:(0,I.J)(null===e||void 0===e?void 0:e.name)})))):(0,M.Z)("error",n.data.resMessage,!1)}))},J=(e,n)=>{null!==e&&void 0!==e&&e.HasExpireDate||(e.expireDate=""),e.imageOrFile=!!e.base64Content.fileContent.includes("image"),e.fileName=e.base64Content.fileName,e.base64Content=e.base64Content.fileContent.replace(/^data:(image|application)\/(pdf|.+);base64,/,""),(async(e,n,a)=>{const t=JSON.parse(E.Z.get("user"));(0,M.Z)("info","\u062f\u0631 \u062d\u0627\u0644 \u0627\u0631\u0633\u0627\u0644",!1),(0,G.S)("POST","".concat("/api/Doctor/AddMadrak"),!0,{idPerson:t.IdPerson,id:n?1:0,...e,nameType:""}).then((e=>{1===e.data.resCode?(0,M.Z)("success",e.data.resMessage,!1):(0,M.Z)("error",e.data.resMessage,!1),null===a||void 0===a||a.setForceRender((e=>!e))}))})(e,null,n)};var U=a(45473),B=a(96015),H=a(88210);const q=e=>{let{onChange:n,errors:a,name:l,label:i,gap:r,direction:d="rtl",disableRightPadding:s=!0,StateLift:u,getInitialValue:c}=e;const[m,v]=t.useState(!1);return t.useEffect((()=>{c&&n(m)}),[]),(0,g.jsx)(t.Fragment,{children:(0,g.jsxs)(o.Z,{alignItems:"flex-end",children:[(0,g.jsxs)(o.Z,{direction:"row",spacing:null!==r&&void 0!==r?r:0,alignItems:"center",justifyContent:"rtl"===d?"flex-end":"initial",children:[(0,g.jsx)("p",{children:i}),(0,g.jsx)(U.Z,{color:"colorPrimer",onChange:e=>{v(e.target.checked),u&&u(e.target.checked),n(e.target.checked)},checked:m,sx:{pr:s?0:"",paddingY:0}})]}),a&&a[l]?(0,g.jsx)(B.Z,{sx:{pb:"1em",pr:0,mr:"-.4em",mt:"-.4em"},children:(0,g.jsx)(H.Z,{label:i})}):(0,g.jsx)(g.Fragment,{})]})})};var z=a(80091),W=a(70654);var _=a(92186),Y=a(44503);const $=(e,n)=>{const[a,l]=t.useState(!1);return[{element:(0,g.jsx)(z.Z,{label:(0,Z.Z)("upload-oncall-documents-btn-document-select",n)}),name:"base64Content",required:!0},{element:(0,g.jsx)(q,{label:(0,Z.Z)("general-public-check-select-expiry-date",n),StateLift:l,getInitialValue:!0}),name:"HasExpireDate"},{element:(0,g.jsx)(W.Z,{Placeholder:(0,Z.Z)("general-public-check-select-expiry-date",n),Disabled:!a}),name:"expireDate"},{element:(0,g.jsx)(_.Z,{SelectableDataArray:e,label:(0,Z.Z)("upload-oncall-documents-select-document-type-select",n),isSingle:!0}),name:"idType",required:!0},{element:(0,g.jsx)(Y.Z,{label:(0,Z.Z)("general-public-description",n),isPassword:!1}),name:"deaription"}]};const K={imageOrFile:"",expireDate:(0,a(58828).d)(),HasExpireDate:"",fileName:"",deaription:"",base64Content:"",idType:"",nameType:""},Q=e=>{let{StateBank:n,languageArray:a}=e;const{control:i,formState:r,handleSubmit:d}=(0,N.cI)({defaultValues:K}),{gatheredData:s}=(0,T.Z)(L);return(0,g.jsx)(t.Fragment,{children:(0,g.jsx)(l.Z,{children:(0,g.jsx)("form",{onSubmit:d((e=>J(e,n))),children:(0,g.jsxs)(o.Z,{gap:".5em",children:[(0,g.jsx)(O.Z,{control:i,formState:r,DataArray:$(s,a)}),(0,g.jsx)(P.Z,{label:(0,Z.Z)("upload-oncall-documents-btn-send-documents",a)})]})})})})},X=async(e,n)=>{n.setLoadingState(!0);const a=JSON.parse(E.Z.get("user"));(0,G.S)("POST","".concat("/api/Doctor/GetMadrakList"),!0,{idRecord:0,fileType:""!==(null===n||void 0===n?void 0:n.fileReqParam)&&"file"===(null===n||void 0===n?void 0:n.fileReqParam)?0:1,idPerson:a.IdPerson,returnFileContent:!0}).then((a=>{var t,l,o,i,r;1===a.data.resCode?(e((o=null===a||void 0===a||null===(t=a.data)||void 0===t||null===(l=t.Data)||void 0===l?void 0:l.listMadrak,i="id",r=null,null===o||void 0===o?void 0:o.map((e=>({ItemValue:e[i],ItemContent:"function"===typeof r?r(e):"string"===typeof r?e[r]:e}))))),null===n||void 0===n||n.setLoadingState(!1)):(0,M.Z)("error",a.data.resMessage,!1)}))},ee=()=>{const[e,n]=t.useState(!1),[a,l]=t.useState(),[o,i]=t.useState(),[r,d]=t.useState([]),[s,u]=t.useState(!0);t.useEffect((()=>{d([{functions:X,parameters:{fileReqParam:a,setLoadingState:u}}])}),[a]);const{gatheredData:c}=(0,T.Z)(r,e);return t.useMemo((()=>{i((e=>({...e,gatheredData:c,setRadioValue:l,RadioValue:a,setForceRender:n,loadingState:s})))}),[JSON.stringify(c),s]),o},ne=()=>{var e,n;const a=ee(),[s,u]=t.useState(!1),c=null===(e=(0,t.useContext)(d.k))||void 0===e?void 0:e.LanguageArray,m=(0,Z.Z)("general-public-flat-alert-no-data");return(0,g.jsx)(t.Fragment,{children:(0,g.jsxs)(l.Z,{maxWidth:"md",className:"upload-oncall-docs-color-layout",children:[(null!==a&&void 0!==a&&a.forceRender,(0,g.jsx)(g.Fragment,{})),(0,g.jsxs)(o.Z,{marginTop:"2em",children:[(0,g.jsx)(y,{setShowOrUpload:u,ShowOrUpload:s,setRadioValue:null===a||void 0===a?void 0:a.setRadioValue,StateBank:a,languageArray:c}),s?(0,g.jsx)(Q,{StateBank:a,imageData:null===a||void 0===a?void 0:a.gatheredData,languageArray:c}):null===(null===a||void 0===a?void 0:a.gatheredData)||null!==a&&void 0!==a&&a.loadingState?(0,g.jsx)(l.Z,{children:(0,g.jsx)(i.Z,{color:"colorPrimer"})}):0===(null===a||void 0===a||null===(n=a.gatheredData)||void 0===n?void 0:n.length)?(0,g.jsx)(r.Z,{severity:"warning",variant:"outlined",sx:{display:"flex",justifyContent:"center",mt:".5em"},children:m}):(0,g.jsx)("div",{style:{marginTop:".5em"},children:(0,g.jsx)(A,{contentData:null===a||void 0===a?void 0:a.gatheredData,RadioValue:null===a||void 0===a?void 0:a.RadioValue,languageArray:c})})]})]})})}},68087:(e,n,a)=>{a.d(n,{Z:()=>o});var t=a(81245),l=a(80184);const o=(0,t.Z)((0,l.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")}}]);
//# sourceMappingURL=748.7c13b62e.chunk.js.map