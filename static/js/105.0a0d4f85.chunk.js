"use strict";(self.webpackChunknew_ui=self.webpackChunknew_ui||[]).push([[105],{83405:(e,t,n)=>{n.d(t,{e:()=>l});var o=n(79917),i=n(73736),s=n(86775);n(36009);const l=async(e,t)=>{(0,s.S)("POST","".concat("/api/Public/GetInsuranceList"),!0,{clause:""}).then((n=>{1===n.data.resCode?e(t?e=>({...e,[t]:n.data.Data.list.map((e=>({ItemValue:e.ID,ItemContent:(0,i.J)(e.Name)})))}):n.data.Data.list.map((e=>({ItemValue:e.ID,ItemContent:(0,i.J)(e.Name)})))):(0,o.Z)("error",n.data.resMessage,!1)}))}},99755:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(72791),i=n(94162),s=n(75017),l=n(80184);const r=e=>{let{label:t,value:n,onChange:r,isEnglish:a=!1}=e;return o.useEffect((()=>{r&&r(n)}),[n]),(0,l.jsx)(o.Fragment,{children:(0,l.jsxs)(i.Z,{alignItems:"flex-end",width:"100%",children:[(0,l.jsx)("sub",{style:{width:"100%",textAlign:a?"left":"right"},dir:a?"ltr":"rtl",children:t}),(0,l.jsx)(s.Z,{fullWidth:!0,color:"colorPrimer",disabled:!0,value:""===n?"\u062f\u0627\u062f\u0647 \u0627\u06cc \u062b\u0628\u062a \u0646\u0634\u062f\u0647":null!==n&&void 0!==n?n:"",size:"small"})]})})}},27899:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(72791);const i=e=>{const[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const t=new IntersectionObserver((e=>{let[t]=e;return n(t.isIntersecting)}));return t.observe(e.current),()=>{t.disconnect()}}),[]),t}},44990:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(89841),i=n(13811),s=n(40918),l=n(30433),r=n(72791),a=n(80184);const d=e=>{let{inView:t,scrollRef:n}=e;const d=(0,s.Z)();return(0,a.jsx)(r.Fragment,{children:!t&&d>1024?(0,a.jsx)(i.Z,{sx:{alignSelf:"center",position:"fixed",backgroundColor:"".concat(l.l.ColorPrimary)},onClick:()=>{n.current.scrollIntoView({behavior:"smooth"})},children:(0,a.jsx)(o.Z,{color:"colorSecondar",sx:{fontSize:".7em"}})}):(0,a.jsx)(a.Fragment,{})})}},45834:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(72791),i=n(79917),s=n(86775),l=n(33957);n(36009);const r=(e,t)=>{o.useEffect((()=>{(null===e||void 0===e?void 0:e.Count)>0&&(async(e,t,n,o,r)=>{const a=JSON.parse(sessionStorage.getItem("patient"));(0,s.S)("POST","".concat("/api/DoctorWorkList/CalcService"),!0,{dateeHozoor:null===a||void 0===a?void 0:a.DateHozoor,idInsurance:e,idPerson:null===a||void 0===a?void 0:a.IdPerson,serviceID:t,timeHozoor:(0,l.p)(null===a||void 0===a?void 0:a.TimeHozoor),count:n}).then((e=>{if(1===e.data.resCode){const t=e.data.Data.list[0];o((e=>e.map((e=>e.ID===r.ID?{...e,InsurancePart:null===t||void 0===t?void 0:t.InsurancePart,PatientPart:null===t||void 0===t?void 0:t.PatientPart,TotalPrice:null===t||void 0===t?void 0:t.TotalPrice}:e))))}else(0,i.Z)("error",e.data.resMessage,!1)}))})(null===t||void 0===t?void 0:t.id_insurance,e.ID,e.Count,null===t||void 0===t?void 0:t.set_largelist,e)}),[null===e||void 0===e?void 0:e.Count])}},48400:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(72791);const i=(e,t)=>{(0,o.useEffect)((()=>{var n,o;e.Count>0?-1===(null===t||void 0===t||null===(n=t.selected)||void 0===n?void 0:n.findIndex((t=>t.ID===e.ID)))?t.set_select((t=>[...t,{...e,select:!0}])):t.set_select((t=>t.map((t=>t.ID===e.ID?{...e,select:!0}:t)))):0===e.Count&&-1!==(null===t||void 0===t||null===(o=t.selected)||void 0===o?void 0:o.findIndex((t=>t.ID===e.ID)))&&t.set_select((t=>t.filter((t=>t.ID!==e.ID))))}),[e])}},92223:(e,t,n)=>{n.d(t,{j:()=>o});const o=(e,t,n)=>{n(!0),setTimeout((()=>{n(!1)}),650),t.Count>0&&(null===e||void 0===e||e.set_largelist((e=>e.map((e=>e.ID===t.ID?{...e,Count:e.Count-1}:e)))))}},7882:(e,t,n)=>{n.d(t,{F:()=>o});const o=(e,t,n)=>{n(!0),setTimeout((()=>{n(!1)}),650),null===e||void 0===e||e.set_largelist((e=>e.map((e=>e.ID===t.ID?{...e,Count:e.Count+1}:e))))}},62105:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ue});var o=n(72791),i=n(20803),s=n(94162),l=n(48313);const r=(e,t,n,i,s,l)=>{const[r,a]=(0,o.useState)(50),[d,c]=(0,o.useState)(r),[u,v]=(0,o.useState)([]),[m,f]=(0,o.useState)(0),[h,g]=(0,o.useState)(!1),[x,I]=(0,o.useState)(!0);(0,o.useEffect)((()=>{if(s&&e){let t=50;s.forEach((n=>{const o=e.findIndex((e=>e.ID===n.ID));o>t&&(t=o+20)})),a(t),c(t)}}),[s,e,l]);return(0,o.useEffect)((()=>{if(e){let o=e.slice(0,d);t&&(o=t(o,...n)),v(i?i(e,n):o)}}),[e,d,n,l]),(0,o.useEffect)((()=>{g(!0),I(!1)}),[]),{list:u,handleTouchMove:e=>{const t=e.touches[0].clientY;c(t>m?e=>e+1:e=>e>r?e-1:e)},handleScroll:e=>{e.deltaY>0?c((e=>e+1)):c((e=>e>r?e-1:e))},handleTouchStart:e=>{f(e.touches[0].clientY)},activated:h,firstCall:x}},a=(e,t,n)=>{const[i,s]=(0,o.useState)(e),[l,r]=(0,o.useState)([]);return(0,o.useEffect)((()=>{const t=[...l];e.forEach((e=>{e.Count>0&&!t.includes(e.ID)?t.push(e.ID):0===e.Count&&t.includes(e.ID)&&t.splice(t.indexOf(e.ID),1)})),r(t)}),[e]),(0,o.useEffect)((()=>{t>0&&r([])}),[t,e]),(0,o.useEffect)((()=>{0===l.length&&n(0)}),[l]),(0,o.useEffect)((()=>{const t=[...e];l.forEach(((e,n)=>{const o=t.findIndex((t=>t.ID===e));if(-1!==o){const[e]=t.splice(o,1);t.splice(n,0,e)}})),s(t)}),[l]),i};var d=n(73736);const c=(e,t)=>{let n=[...null===e||void 0===e?void 0:e.map((e=>({...e,Name:(0,d.J)(null===e||void 0===e?void 0:e.Name)})))],o=!isNaN(t),i=e=>{let n=0;return o&&Number(e.Code)===Number(t)&&(n+=2),e.Name.includes(t)&&(n+=1),n};return n.sort(((e,t)=>i(t)-i(e))),n.slice(0,10)};var u=n(45620);const v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;const l=(0,u.Z)(t,1),r=a(e,n,i),d=c(e,l),v=(0,o.useMemo)((()=>d),[JSON.stringify(d)]),m=a(v,n,i);return 0===t.length?s?r:e:s?m:v};var m=n(83405),f=n(79917),h=n(86775),g=(n(36009),n(33957));const x=async(e,t)=>{const n=JSON.parse(sessionStorage.getItem("patient"));(null===t||void 0===t?void 0:t.idInsurance)&&(0,h.S)("POST","".concat("/api/DoctorWorkList/GetErjaServiceList"),!0,{dateHozoor:null===n||void 0===n?void 0:n.DateHozoor,idInsurance:null===t||void 0===t?void 0:t.idInsurance,Idperson:null===n||void 0===n?void 0:n.IdPerson,searchfield:"",timeHozoor:(0,g.p)(null===n||void 0===n?void 0:n.TimeHozoor)}).then((n=>{1===n.data.resCode?e((e=>{var o,i;return{...e,[null===t||void 0===t?void 0:t.ObjName]:null===n||void 0===n||null===(o=n.data)||void 0===o||null===(i=o.Data)||void 0===i?void 0:i.InsuranceServiceList.map((e=>({...e,select:!1,InsurancePart:0,PatientPart:0,TotalPrice:0})))}})):(0,f.Z)("error",n.data.resMessage,!1)}))},I=async(e,t)=>{const n=JSON.parse(sessionStorage.getItem("patient")),o=JSON.parse(sessionStorage.getItem("conferData"));(0,h.S)("POST","".concat("/api/DoctorWorkList/ErjaViewAddOrEdit"),!0,{idAppWorkList:null===n||void 0===n?void 0:n.Id,idConfer:null===o||void 0===o?void 0:o.ID,idPatient:null===n||void 0===n?void 0:n.IdPatient}).then((n=>{1===n.data.resCode?e((e=>({...e,[t.ObjName]:n.data.Data}))):(0,f.Z)("error",n.data.resMessage,!1)}))};var p=n(58828);var C=n(80184);const j=(0,o.createContext)(),S=e=>{var t;let{children:n}=e;const[i,s]=(0,o.useState)(!1),[a,c]=(0,o.useState)(0),u=sessionStorage.getItem("saved_insurance"),S=(0,o.useRef)("undefined"!==u&&"null"!==u?JSON.parse(u):null),Z=JSON.parse(sessionStorage.getItem("patient")),D=sessionStorage.getItem("saved_confers"),b=(0,o.useRef)(JSON.parse(D)),[_,y]=(0,o.useState)(""),[P,N]=(0,o.useState)(S.current?S.current[0].ItemValue:null===Z||void 0===Z?void 0:Z.IdInsurance),[E,z]=(0,o.useState)(0),[L,k]=(0,o.useState)(""),{gatheredData:T}=(0,l.Z)((O=P,[{functions:m.e,parameters:"InsuranceList"},{functions:x,parameters:{ObjName:"Confer",idInsurance:O}},{functions:I,parameters:{ObjName:"Info"}}]));var O;const[w,H]=(0,o.useState)((null===T||void 0===T?void 0:T.Confer)||[]),[J,M]=(0,o.useState)(b.current||[]),[F,V]=(0,o.useState)(),[A,B]=(0,o.useState)({enabled:!1,list:[]});(0,o.useEffect)((()=>{var e,t;null!==T&&void 0!==T&&T.Confer&&(null===T||void 0===T||null===(e=T.Confer)||void 0===e?void 0:e.length)>0&&H(((e,t)=>{const n=[...e];return null===t||void 0===t||t.forEach((e=>{const t=n.findIndex((t=>t.ID===e.ID));-1!==t&&(n[t]=e)})),n})(null===T||void 0===T?void 0:T.Confer,null===T||void 0===T||null===(t=T.Info)||void 0===t?void 0:t.SavedServiceList))}),[null===T||void 0===T?void 0:T.Confer]);const G=v(w,L,a,c,i,null===A||void 0===A?void 0:A.list),{list:W,handleTouchMove:R,handleScroll:Y}=r(G,void 0,void 0,void 0,b.current,a),K=W;(0,o.useEffect)((()=>{J.length>0?sessionStorage.setItem("saved_confers",JSON.stringify(J)):sessionStorage.removeItem("saved_confers")}),[J]),(0,o.useEffect)((()=>{b.current&&null!==T&&void 0!==T&&T.Confer&&H(((e,t)=>{const n=[...e];return t.forEach((e=>{const t=n.findIndex((t=>t.ID===e.ID));-1!==t&&(n[t]=e)})),n})(null===T||void 0===T?void 0:T.Confer,b.current))}),[null===T||void 0===T?void 0:T.Confer]),(0,o.useEffect)((()=>{const e=J.map((e=>"".concat(e.ID,",").concat(e.Count))).join("#");y(e)}),[J]),(0,o.useEffect)((()=>{a>0&&(b.current=[],sessionStorage.removeItem("saved_confers"),M([]),H([]))}),[a]),(0,o.useEffect)((()=>{var e,t;(null===T||void 0===T||null===(e=T.Confer)||void 0===e?void 0:e.length)>0&&sessionStorage.setItem("saved_insurance",JSON.stringify(null===T||void 0===T||null===(t=T.InsuranceList)||void 0===t?void 0:t.filter((e=>e.ItemValue===P))))}),[T]),(0,o.useEffect)((()=>{J.length>0&&M((e=>{let t={},n=!1;return e.forEach((function(e){t[e.ID]?n=!0:t[e.ID]=!0})),n?Object.keys(t).map((function(t){return e.find((function(e){return e.ID==t}))})):e})(J))}),[J]),(0,o.useEffect)((()=>{var e;sessionStorage.setItem("patient",JSON.stringify({...Z,IdInsurance:P,InsuranceName:null===T||void 0===T||null===(e=T.InsuranceList)||void 0===e?void 0:e.filter((e=>e.ItemValue===P))[0].ItemContent}))}),[J,null===T||void 0===T?void 0:T.InsuranceList]),(0,o.useEffect)((()=>{null!==A&&void 0!==A&&A.enabled&&(async(e,t,n,o,i)=>{n((e=>({...e,loading:!0})));const s=JSON.parse(sessionStorage.getItem("patient"));(0,h.S)("POST","".concat("/api/DoctorWorkList/CalcService_byTashkhis"),!0,{dateeHozoor:null===s||void 0===s?void 0:s.DateHozoor,idInsurance:e,idPerson:null===s||void 0===s?void 0:s.IdPerson,timeHozoor:(0,g.p)(null===s||void 0===s?void 0:s.TimeHozoor),idTashkhis:t}).then((e=>{var t,o,s;1===e.data.resCode?((null===e||void 0===e||null===(t=e.data)||void 0===t||null===(o=t.Data)||void 0===o||null===(s=o.list)||void 0===s?void 0:s.length)>0&&i((t=>t.map((t=>{var n,o,i,s,l,r,a,d;return(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(o=n.Data)||void 0===o||null===(i=o.list)||void 0===i?void 0:i.findIndex((e=>e.ID===t.ID)))>-1?null===e||void 0===e||null===(s=e.data)||void 0===s||null===(l=s.Data)||void 0===l?void 0:l.list[null===e||void 0===e||null===(r=e.data)||void 0===r||null===(a=r.Data)||void 0===a||null===(d=a.list)||void 0===d?void 0:d.findIndex((e=>e.ID===t.ID))]:t})))),n((t=>({enabled:t.enabled,list:e.data.Data.list.map((e=>({...e,select:!0})))})))):((0,f.Z)("error",e.data.resMessage,!1),n({enabled:!1,list:[]}))}))})(P,F,B,0,H)}),[null===A||void 0===A?void 0:A.enabled]),(0,o.useEffect)((()=>{A.list&&M(null===A||void 0===A?void 0:A.list)}),[JSON.stringify(A.list)]);const Q={defaultinsurance:S.current?[{ItemValue:(0,d.J)(S.current[0].ItemContent),ItemContent:(0,d.J)(S.current[0].ItemContent)}]:[{ItemValue:(0,d.J)(null===Z||void 0===Z?void 0:Z.InsuranceName),ItemContent:(0,d.J)(null===Z||void 0===Z?void 0:Z.InsuranceName)}],insurance:null===T||void 0===T?void 0:T.InsuranceList,info:null===T||void 0===T?void 0:T.Info,services:null===T||void 0===T?void 0:T.Confer,set_insurance:N,set_doctor_off:z,doctor_off:E,set_search:k,optimized_services:K,scroll_handlers:[R,Y],set_largelist:H,id_insurance:P,set_select:M,selected:J,ApiReadyData:{dateCreditNoteBook:(0,p.d)(),discountDoctor:E,discountMarkaz:null===T||void 0===T||null===(t=T.Info)||void 0===t?void 0:t.DiscountMarkaz,erjaId:0,idInsurance:P,insuranceNumber:"",noPageNoteBook:"",serviceListData:_,idDiagnosis:F},set_reset:c,reset:a,set_reset:c,setBringTop:s,detection:F,setDetection:V,detectionBaseList:A,setDetectionBaseList:B,search:L,bringTop:i};return(0,C.jsx)(j.Provider,{value:Q,children:n})};var Z=n(94225),D=n(91397),b=n(30178);const _=e=>{let{context:t,GlobalConstants:n}=e;const[i,s]=(0,o.useState)();return(0,o.useEffect)((()=>{null!==i&&void 0!==i&&i.ItemValue&&(null===t||void 0===t||t.set_reset((e=>e+1)))}),[i]),(0,C.jsx)(o.Fragment,{children:(0,C.jsx)(Z.Z,{isSingle:!0,isEnglish:"en"===b.ZP.language,initialData:null===t||void 0===t?void 0:t.defaultinsurance,SelectableDataArray:null===t||void 0===t?void 0:t.insurance,label:(0,D.Z)("general-public-insurance-type",null===n||void 0===n?void 0:n.LanguageArray),onChange:null===t||void 0===t?void 0:t.set_insurance,GetSelectedValue:s})})};n(70654);var y=n(87058);n(99755);const P=e=>{var t;let{context:n,GlobalConstants:i}=e;return(0,C.jsx)(o.Fragment,{children:(0,C.jsx)(y.Z,{disabled:!0,label:(0,D.Z)("add-new-confer-input-off-markaz",null===i||void 0===i?void 0:i.LanguageArray),isEnglish:"en"===b.ZP.language,Initialvalue:(null===n||void 0===n||null===(t=n.info)||void 0===t?void 0:t.DiscountMarkaz)||0})})};var N=n(3504);const E=e=>{var t;let{context:n,GlobalConstants:i}=e;return(0,C.jsx)(o.Fragment,{children:(0,C.jsx)(N.Z,{label:(0,D.Z)("add-new-confer-input-off-doctor",null===i||void 0===i?void 0:i.LanguageArray),isEnglish:"en"===b.ZP.language,value:(null===n||void 0===n||null===(t=n.info)||void 0===t?void 0:t.DiscountDoctor)||0,onChange:null===n||void 0===n?void 0:n.set_doctor_off})})};n(9396);var z=n(81096),L=n(46843),k=n(49500);const T=()=>{const e=(0,o.useContext)(j),[t,n]=(0,o.useState)(null),i=JSON.parse(sessionStorage.getItem("patient")),s=(0,D.Z)("general-public-label-diagnose"),[l,r]=(0,o.useState)([]);return(0,o.useLayoutEffect)((()=>{(0,k.H)(r,"detectionList")}),[]),(0,o.useEffect)((()=>{if(t){var n;const o=null===l||void 0===l||null===(n=l.detectionList)||void 0===n?void 0:n.filter((e=>e.ItemContent===(null===t||void 0===t?void 0:t.ItemContent)))[0];null===e||void 0===e||e.setDetection(null===o||void 0===o?void 0:o.ItemValue)}}),[t,JSON.stringify(l)]),(0,C.jsx)(o.Fragment,{children:(0,C.jsx)(Z.Z,{isSingle:!0,SelectableDataArray:null===l||void 0===l?void 0:l.detectionList,label:s,initialData:[{ItemValue:(0,d.J)(null===i||void 0===i?void 0:i.NameDiagnosis),ItemContent:(0,d.J)(null===i||void 0===i?void 0:i.NameDiagnosis)}],enableInitialOnchange:!0,GetSelectedValue:n})})},O=()=>{var e;const t=(0,o.useContext)(j),n=(0,o.useContext)(z.k);null===(e=(0,o.useContext)(z.k))||void 0===e||e.LanguageArray;return(0,C.jsx)(o.Fragment,{children:(0,C.jsx)("form",{onSubmit:e=>{e.preventDefault()},children:(0,C.jsxs)(s.Z,{spacing:1,children:[(0,C.jsx)(_,{context:t,GlobalConstants:n}),(0,C.jsx)(T,{context:t}),(0,C.jsxs)(s.Z,{direction:"row-reverse",gap:".5em",children:[(0,C.jsx)(P,{context:t,GlobalConstants:n}),(0,C.jsx)(E,{context:t,GlobalConstants:n})]})]})})})};var w=n(17205),H=n(91888);const J="Confer_general_style_ConferGeneral__xK7Wd",M="Confer_general_style_ConferGeneral_select__XbCpt",F="Confer_general_style_ConferName__h91Qs",V="Confer_general_style_confersContainer__xtn-i",A=e=>{let{confer:t}=e;return(0,C.jsx)(o.Fragment,{children:(0,C.jsx)(s.Z,{children:(0,C.jsx)("p",{className:F,children:(0,d.J)(null===t||void 0===t?void 0:t.Name)})})})};var B=n(68087),G=n(65370),W=n(13811),R=n(7882),Y=n(92223),K=n(30433);const Q=e=>{let{context:t,confer:n}=e;const[i,l]=(0,o.useState)(!1),{setBringTop:r}=t;return(0,C.jsx)(o.Fragment,{children:(0,C.jsxs)(s.Z,{alignItems:"center",children:[(0,C.jsx)(W.Z,{onClick:()=>{(0,R.F)(t,n,l),r(!1)},disabled:i,children:(0,C.jsx)(B.Z,{sx:{fill:"".concat(K.l.ColorPrimary," !important")}})}),(0,C.jsx)("p",{children:null===n||void 0===n?void 0:n.Count}),(0,C.jsx)(W.Z,{onClick:()=>{(0,Y.j)(t,n,l),r(!1)},disabled:i||0===n.Count,children:(0,C.jsx)(G.Z,{sx:{fill:"".concat(K.l.ColorPrimary," !important")}})})]})})};var U=n(45834),X=n(83737);const q=e=>{var t;let{confer:n,context:i}=e;(0,U.Z)(n,i);const l=null===(t=(0,o.useContext)(z.k))||void 0===t?void 0:t.LanguageArray;return(0,C.jsx)(o.Fragment,{children:(0,C.jsxs)(s.Z,{width:"100%",children:[(0,C.jsx)("hr",{}),(0,C.jsxs)(s.Z,{alignSelf:"end",width:"60%",children:[(0,C.jsxs)(s.Z,{direction:"row-reverse",justifyContent:"space-between",children:[(0,C.jsxs)("p",{children:[(0,D.Z)("confer-add-edit-common-label-patient-payable",l),":"]}),(0,C.jsx)("p",{children:(0,X.B)(null===n||void 0===n?void 0:n.PatientPart)})]}),(0,C.jsxs)(s.Z,{alignItems:"center",direction:"row-reverse",justifyContent:"space-between",children:[(0,C.jsxs)("p",{children:[(0,D.Z)("confer-add-edit-common-label-insurance-payable",l),":"]}),(0,C.jsx)("p",{children:(0,X.B)(null===n||void 0===n?void 0:n.InsurancePart)})]}),(0,C.jsxs)(s.Z,{alignItems:"center",direction:"row-reverse",justifyContent:"space-between",children:[(0,C.jsxs)("p",{children:[(0,D.Z)("confer-add-edit-common-label-total-price",l),":"]}),(0,C.jsx)("p",{children:(0,X.B)(null===n||void 0===n?void 0:n.TotalPrice)})]})]})]})})};var $=n(48400);const ee=e=>{let{confer:t,context:n}=e;return(0,$.Z)(t,n),(0,C.jsx)(o.Fragment,{children:(0,C.jsxs)(s.Z,{className:(null===t||void 0===t?void 0:t.Count)>0?M:J,direction:"row-reverse",justifyContent:"space-between",alignItems:"center",sx:{borderColor:t.select&&"gray !important"},children:[(0,C.jsxs)(s.Z,{spacing:1,alignItems:"flex-end",width:"100%",children:[(0,C.jsx)(A,{confer:t}),(null===t||void 0===t?void 0:t.Count)>0?(0,C.jsx)(q,{confer:t,context:n}):(0,C.jsx)(C.Fragment,{})]}),(0,C.jsx)(Q,{context:n,confer:t})]})})};var te=n(96015),ne=n(96580);const oe=e=>{var t,n;let{context:i}=e;return(0,C.jsx)(o.Fragment,{children:null!==i&&void 0!==i&&i.services&&null!==i&&void 0!==i&&i.optimized_services&&(null===i||void 0===i||null===(t=i.optimized_services)||void 0===t?void 0:t.length)>0?(0,C.jsx)(o.Fragment,{children:(0,C.jsx)("div",{onWheel:null===i||void 0===i?void 0:i.scroll_handlers[1],onTouchMove:null===i||void 0===i?void 0:i.scroll_handlers[0],style:{transition:"all .3s ease"},children:(0,C.jsx)(te.Z,{sx:{mt:"1em",transition:"all .5s ease"},className:V,children:null===i||void 0===i||null===(n=i.optimized_services)||void 0===n?void 0:n.map((e=>(0,C.jsx)(ee,{confer:e,context:i},e.ID)))})})}):(0,C.jsx)(s.Z,{marginTop:"1em",width:"100%",alignItems:"center",children:(0,C.jsx)(ne.Z,{sx:{color:"".concat(K.l.ColorPrimary," !important")}})})})},ie=(0,o.memo)(oe);n(44503);const se=e=>{var t;let{context:n}=e;const i=null===(t=(0,o.useContext)(z.k))||void 0===t?void 0:t.LanguageArray;return(0,C.jsx)(o.Fragment,{children:(0,C.jsx)(y.Z,{label:(0,D.Z)("general-public-search",i),isEnglish:"en"===b.ZP.language,onChange:null===n||void 0===n?void 0:n.set_search,Initialvalue:null===n||void 0===n?void 0:n.search,customOnChange:e=>{e.target.value.length>0&&(null===n||void 0===n||n.setBringTop(!1))}})})};var le=n(57210),re=n(91410);var ae=n(44990),de=n(27899);const ce=()=>{var e,t;const n=(0,o.useContext)(j),i=(0,o.useContext)(z.k),l=(0,o.useRef)(null),r=(0,de.Z)(l),a=(0,D.Z)("add-edit-confer-show-items"),d=null===n||void 0===n?void 0:n.setBringTop,c=(0,D.Z)("add-confer-btn-label-select-services-by-detection"),u=null===n||void 0===n?void 0:n.bringTop,v=null===n||void 0===n||null===(e=n.detectionBaseList)||void 0===e?void 0:e.enabled,m=(()=>{(0,D.Z)("add-new-alert-confirm-confer");const e=JSON.parse(sessionStorage.getItem("patient")),t=JSON.parse(sessionStorage.getItem("conferData"));return(n,o,i,s)=>{(0,h.S)("POST","".concat("/api/DoctorWorkList/AddEditConferPatient"),!0,{...n,idPatient:null===e||void 0===e?void 0:e.IdPatient,idAppWorkList:null===e||void 0===e?void 0:e.Id,Idperson:null===e||void 0===e?void 0:e.IdPerson,idConfer:null===t||void 0===t?void 0:t.ID,timeHozoor:TimeToMinutes(null===e||void 0===e?void 0:e.TimeHozoor),dateHozoor:null===e||void 0===e?void 0:e.DateHozoor}).then((e=>{1===e.data.resCode?(0,f.Z)("success",e.data.resMessage,!1):(0,f.Z)("error",e.data.resMessage,!1),s.setChangeRender((e=>!e)),setTimeout((()=>{o(-1)}),600)}))}})(),g=(0,D.Z)("edit-confer-alert-sure-edit"),x=(0,D.Z)("add-new-alert-no-items-selected");return(0,C.jsx)(o.Fragment,{children:(0,C.jsxs)(s.Z,{children:[(0,C.jsx)(w.Z,{variant:"outlined",fullWidth:!0,sx:{mb:".5em",minHeight:"40px",color:"".concat(v?K.l.ColorSecondary:K.l.ColorPrimary," !important"),backgroundColor:"".concat(v?K.l.ColorPrimary:K.l.ColorSecondary," !important")},color:"colorPrimer",startIcon:(0,C.jsx)(le.Z,{}),onClick:()=>{null===n||void 0===n||n.setDetectionBaseList((e=>({...e,enabled:!e.enabled}))),d((e=>!e))},children:c}),(0,C.jsx)(w.Z,{variant:"outlined",fullWidth:!0,sx:{mb:"1em",minHeight:"40px",color:"".concat(u?K.l.ColorSecondary:K.l.ColorPrimary," !important"),backgroundColor:"".concat(u?K.l.ColorPrimary:K.l.ColorSecondary," !important")},color:"colorPrimer",startIcon:(0,C.jsx)(re.Z,{}),onClick:()=>{d((e=>!e)),null===n||void 0===n||n.set_search("")},children:a}),null!==n&&void 0!==n&&null!==(t=n.detectionBaseList)&&void 0!==t&&t.loading?(0,C.jsx)(H.Z,{sx:{my:".5em"}}):(0,C.jsx)(C.Fragment,{}),(0,C.jsx)(se,{context:n}),(0,C.jsx)("div",{style:{marginTop:".5em"},children:(0,C.jsx)(w.Z,{disabled:(0,L.Z)("edit-confer-opetation-edit-confer"),variant:"contained",fullWidth:!0,sx:{color:"".concat(K.l.ColorPrimary," !important")},onClick:()=>{HandleSubmitForm(null===n||void 0===n?void 0:n.ApiReadyData,null===n||void 0===n?void 0:n.info,i.navigate,i,m,g,x)},ref:l,children:(0,D.Z)("edit-current-confer-submit-button")})}),(0,C.jsx)(ae.Z,{inView:r,scrollRef:l}),(0,C.jsx)(ie,{context:n})]})})},ue=()=>((0,o.useEffect)((()=>()=>{sessionStorage.removeItem("saved_confers"),sessionStorage.removeItem("saved_insurance")}),[]),(0,C.jsx)(o.Fragment,{children:(0,C.jsx)(S,{children:(0,C.jsx)(i.Z,{sx:{mt:"1em"},children:(0,C.jsxs)(s.Z,{spacing:1,children:[(0,C.jsx)(O,{}),(0,C.jsx)(ce,{})]})})})}))},49500:(e,t,n)=>{n.d(t,{H:()=>l});var o=n(79917),i=n(73736),s=n(86775);n(36009);const l=async(e,t)=>{(0,s.S)("POST","".concat("/api/Public/GetTashkhisList"),!0,{idSystem:900,clause:""}).then((n=>{1===n.data.resCode?e({[t]:n.data.Data.list.map((e=>({ItemValue:e.Id,ItemContent:(0,i.J)(e.Name)})))}):(0,o.Z)("error",n.data.resMessage,!1)}))}},68087:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(81245),i=n(80184);const s=(0,o.Z)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add")},57210:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(81245),i=n(80184);const s=(0,o.Z)((0,i.jsx)("path",{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10L22 5.18zM12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8c1.57 0 3.04.46 4.28 1.25l1.45-1.45C16.1 2.67 14.13 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10c1.73 0 3.36-.44 4.78-1.22l-1.5-1.5c-1 .46-2.11.72-3.28.72zm7-5h-3v2h3v3h2v-3h3v-2h-3v-3h-2v3z"}),"AddTask")},89841:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(81245),i=n(80184);const s=(0,o.Z)([(0,i.jsx)("path",{d:"M6 17.59 7.41 19 12 14.42 16.59 19 18 17.59l-6-6z"},"0"),(0,i.jsx)("path",{d:"m6 11 1.41 1.41L12 7.83l4.59 4.58L18 11l-6-6z"},"1")],"KeyboardDoubleArrowUp")},91410:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(81245),i=n(80184);const s=(0,o.Z)((0,i.jsx)("path",{d:"M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"}),"List")},65370:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(81245),i=n(80184);const s=(0,o.Z)((0,i.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove")}}]);
//# sourceMappingURL=105.0a0d4f85.chunk.js.map